# Refs ржжрж┐ржпрж╝рзЗ Values рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржХрж░рж╛

import { Callout } from "nextra/components";
import { Tabs } from "nextra/components";

<div className="flex items-center gap-3 mb-6">
  <span className="text-4xl">ЁЯОп</span>
  <div>
    <div className="text-gray-600 text-lg">
      рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржЯрзНрж░рж┐ржЧрж╛рж░ ржирж╛ ржХрж░рзЗ ржХрзАржнрж╛ржмрзЗ values ржоржирзЗ рж░рж╛ржЦрждрзЗ рж╣ржпрж╝ рждрж╛ рж╢рж┐ржЦрзБржи
    </div>
  </div>
</div>

ржХрж▓рзНржкржирж╛ ржХрж░рзБржи ржЖржкржирж╛рж░ React component-ржПрж░ ржХрж┐ржЫрзБ ржПржХржЯрж╛ ржоржирзЗ рж░рж╛ржЦрж╛ ржжрж░ржХрж╛рж░, ржХрж┐ржирзНрждрзБ рж╕рзЗржЗ "ржХрж┐ржЫрзБ" ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗ ржЖржкржирж┐ ржЪрж╛ржи ржирж╛ ржпрзЗ ржПржЯрж┐ ржкрзНрж░рждрж┐ржмрж╛рж░ рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржХрж░рзБржХред ржПржЯрж╛ржЗ рж╣рж▓ **refs**-ржПрж░ ржХрж╛ржЬ!

<Callout type="info" emoji="ЁЯТб">
  **Refs ржХрзЗ ржПржХржЯрж┐ ржирзЛржЯржмрзБржХрзЗрж░ ржорждрзЛ ржнрж╛ржмрзБржи**: ржПрждрзЗ ржЖржкржирж┐ ржирзЛржЯ рж▓рж┐ржЦрждрзЗ ржкрж╛рж░рзЗржи, ржкрж░рзЗ рж╕рзЗржЧрзБрж▓рзЛ
  ржкржбрж╝рждрзЗ ржкрж╛рж░рзЗржи, ржПржмржВ ржпрзЗржХрзЛржирзЛ рж╕ржоржпрж╝ ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи - ржХрж┐ржирзНрждрзБ ржЖржкржирж┐ ржпржЦржи ржПржЯрж╛ ржХрж░ржмрзЗржи рждржЦржи
  React ржЖржкржирж╛рж░ component рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛рж░ ржЬржирзНржп ржмрж┐рж░ржХрзНржд ржХрж░ржмрзЗ ржирж╛ред
</Callout>

---

## ЁЯПЧя╕П ржЖржкржирж╛рж░ Component-ржП ржПржХржЯрж┐ Ref ржпрзЛржЧ ржХрж░рж╛

Refs ржжрж┐ржпрж╝рзЗ рж╢рзБрж░рзБ ржХрж░рж╛ ржЦрзБржмржЗ рж╕рж╣ржЬред ржкрзНрж░ржержорзЗ `useRef` hook import ржХрж░рзБржи:

```jsx
import { useRef } from "react";
```

рждрж╛рж░ржкрж░ ржЖржкржирж╛рж░ component-ржПрж░ ржнрж┐рждрж░рзЗ ржПржХржЯрж┐ ref рждрзИрж░рж┐ ржХрж░рзБржи:

```jsx
function MyComponent() {
  const myRef = useRef(0); // 0 ржжрж┐ржпрж╝рзЗ рж╢рзБрж░рзБ ржХрж░рзБржи

  // ржПржЦржи myRef ржПрж░ржХржо ржжрзЗржЦрж╛ржпрж╝: { current: 0 }
}
```

### ЁЯФН Ref Object ржмрзЛржЭрж╛

ржпржЦржи ржЖржкржирж┐ ржПржХржЯрж┐ ref рждрзИрж░рж┐ ржХрж░рзЗржи, ржЖржкржирж┐ ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг object ржкрж╛ржи ржпрж╛рждрзЗ `current` ржирж╛ржорзЗ ржПржХржЯрж┐ property ржЖржЫрзЗ:

```jsx
const ref = useRef("hello");
console.log(ref); // { current: "hello" }

// Value ржкржбрж╝рзБржи
console.log(ref.current); // "hello"

// Value ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзБржи
ref.current = "world";
console.log(ref.current); // "world"
```

<Callout type="warning" emoji="тЪая╕П">
  **ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг**: State-ржПрж░ ржмрж┐ржкрж░рзАрждрзЗ, `ref.current` ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж▓рзЗ рж░рж┐-рж░рзЗржирзНржбрж╛рж░
  ржЯрзНрж░рж┐ржЧрж╛рж░ рж╣ржпрж╝ ржирж╛ред ржПржЯрж╛ ржПржХржЯрж┐ ржмрзНржпржХрзНрждрж┐ржЧржд ржбрж╛ржпрж╝рзЗрж░рж┐рждрзЗ рж▓рзЗржЦрж╛рж░ ржорждрзЛ - React ржЬрж╛ржирзЗ ржирж╛ ржмрж╛
  ржЪрж┐ржирзНрждрж╛ ржХрж░рзЗ ржирж╛ ржпржЦржи ржЖржкржирж┐ ржПржЯрж╛ ржЖржкржбрзЗржЯ ржХрж░рзЗржи!
</Callout>

---

## ЁЯОо ржЖржкржирж╛рж░ ржкрзНрж░ржержо Ref ржЙржжрж╛рж╣рж░ржг: Click Counter

ржЪрж▓рзБржи ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг click counter ржмрж╛ржирж╛ржЗ ржпрж╛ ржоржирзЗ рж░рж╛ржЦрзЗ ржЖржкржирж┐ ржХрждржмрж╛рж░ click ржХрж░рзЗржЫрзЗржи, ржХрж┐ржирзНрждрзБ UI ржЖржкржбрзЗржЯ ржХрж░рзЗ ржирж╛:

```jsx
import { useRef } from "react";

export default function ClickCounter() {
  const clickCount = useRef(0);

  function handleClick() {
    // Counter ржмрж╛ржбрж╝рж╛ржи
    clickCount.current = clickCount.current + 1;

    // ржПржХржЯрж┐ alert-ржП count ржжрзЗржЦрж╛ржи
    alert(`ржЖржкржирж┐ ${clickCount.current} ржмрж╛рж░ click ржХрж░рзЗржЫрзЗржи!`);
  }

  return <button onClick={handleClick}>ржЖржорж╛ржХрзЗ click ржХрж░рзБржи! ЁЯЦ▒я╕П</button>;
}
```

<Callout type="default" emoji="ЁЯзк">
  **ржПржЗ ржЙржжрж╛рж╣рж░ржг ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржи**: рж▓ржХрзНрж╖рзНржп ржХрж░рзБржи button-ржПрж░ text ржХржЦржирзЛ ржкрж░рж┐ржмрж░рзНрждржи рж╣ржпрж╝ ржирж╛,
  ржпржжрж┐ржУ ржЖржорж░рж╛ clicks ржЧржгржирж╛ ржХрж░ржЫрж┐! ржПрж░ ржХрж╛рж░ржг рж╣рж▓ refs рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржШржЯрж╛ржпрж╝ ржирж╛ред
</Callout>

### ЁЯдФ ржПржЦрж╛ржирзЗ ржХрзЗржи Ref ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржм?

ржЖржкржирж┐ рж╣ржпрж╝рждрзЛ ржнрж╛ржмржЫрзЗржи: "ржХрзЗржи рж╢рзБржзрзБ ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг variable ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ ржирж╛?" ржПржЗ ржЬржирзНржп:

<Tabs items={['тЭМ рж╕рж╛ржзрж╛рж░ржг Variable', 'тЬЕ Ref', 'ЁЯФД State']}>
  <Tabs.Tab>
    ```jsx
    function BadCounter() {
      let count = 0; // ржПржЯрж╛ ржкрзНрж░рждрж┐ render-ржП 0 ржП reset рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝!
      
      function handleClick() {
        count = count + 1;
        alert(`Count: ${count}`); // рж╕ржмрж╕ржоржпрж╝ 1 ржжрзЗржЦрж╛ржпрж╝!
      }
      
      return <button onClick={handleClick}>Click</button>;
    }
    ```
    **рж╕ржорж╕рзНржпрж╛**: рж╕рж╛ржзрж╛рж░ржг variables ржкрзНрж░рждрж┐ render-ржП reset рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝ред
  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx
    function GoodCounter() {
      const count = useRef(0); // Renders-ржПрж░ ржоржзрзНржпрзЗ ржерзЗржХрзЗ ржпрж╛ржпрж╝!
      
      function handleClick() {
        count.current = count.current + 1;
        alert(`Count: ${count.current}`); // рж╕ржарж┐ржХ count ржжрзЗржЦрж╛ржпрж╝!
      }
      
      return <button onClick={handleClick}>Click</button>;
    }
    ```
    **рж╕рзБржмрж┐ржзрж╛**: Value ржЯрж┐ржХрзЗ ржерж╛ржХрзЗ, ржХрзЛржи рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржирзЗржЗред
  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx
    function StateCounter() {
      const [count, setCount] = useState(0);
      
      function handleClick() {
        setCount(count + 1); // рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржЯрзНрж░рж┐ржЧрж╛рж░ ржХрж░рзЗ!
        alert(`Count: ${count + 1}`);
      }
      
      return <button onClick={handleClick}>{count} ржмрж╛рж░ clicked</button>;
    }
    ```
    **ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи**: ржпржЦржи ржЖржкржирж┐ ржЪрж╛ржи UI ржЖржкржбрзЗржЯ рж╣рзЛржХред
  </Tabs.Tab>
</Tabs>

---

## тП▒я╕П ржмрж╛рж╕рзНрждржм ржЬрзАржмржирзЗрж░ ржЙржжрж╛рж╣рж░ржг: ржПржХржЯрж┐ Stopwatch рждрзИрж░рж┐ ржХрж░рж╛

ржЪрж▓рзБржи ржЖрж░рзЛ ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржХрж┐ржЫрзБ ржмрж╛ржирж╛ржЗ - ржПржХржЯрж┐ stopwatch! ржПржЯрж╛ ржЖржкржирж╛ржХрзЗ ржжрзЗржЦрж╛ржмрзЗ ржХрзАржнрж╛ржмрзЗ refs ржПржмржВ state ржПржХрж╕рж╛ржерзЗ рж╕рзБржирзНржжрж░ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред

### ЁЯза ржЖржорж╛ржжрзЗрж░ Stopwatch ржкрж░рж┐ржХрж▓рзНржкржирж╛ ржХрж░рж╛

ржЖржорж╛ржжрзЗрж░ stopwatch-ржПрж░ ржЬржирзНржп ржЖржорж╛ржжрзЗрж░ ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рждрзЗ рж╣ржмрзЗ:

- **Start time** (rendering-ржПрж░ ржЬржирзНржп) тЖТ State ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи тЬЕ
- **Current time** (rendering-ржПрж░ ржЬржирзНржп) тЖТ State ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи тЬЕ
- **Timer ID** (rendering-ржПрж░ ржЬржирзНржп ржиржпрж╝) тЖТ Ref ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи тЬЕ

### ЁЯФи ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ рждрзИрж░рж┐ ржХрж░рж╛

**ржзрж╛ржк рзз: ржорзВрж▓ structure рж╕рзЗржЯ ржЖржк ржХрж░рж╛**

```jsx
import { useState, useRef } from "react";

export default function Stopwatch() {
  const [startTime, setStartTime] = useState(null);
  const [now, setNow] = useState(null);
  const timerRef = useRef(null);

  // ржЖржорж░рж╛ elapsed time рж╣рж┐рж╕рж╛ржм ржХрж░ржм
  let secondsPassed = 0;
  if (startTime != null && now != null) {
    secondsPassed = (now - startTime) / 1000;
  }

  return (
    <div className="p-6 max-w-sm mx-auto bg-white rounded-xl shadow-lg">
      <h1 className="text-2xl font-bold text-center mb-4">тП▒я╕П Stopwatch</h1>
      <div className="text-4xl font-mono text-center mb-6">
        {secondsPassed.toFixed(3)}s
      </div>
      {/* Buttons ржПржЦрж╛ржирзЗ ржпрж╛ржмрзЗ */}
    </div>
  );
}
```

**ржзрж╛ржк рзи: Start functionality ржпрзЛржЧ ржХрж░рж╛**

```jsx
function handleStart() {
  // ржХржЦржи рж╢рзБрж░рзБ ржХрж░рзЗржЫрж┐ рждрж╛ рж░рзЗржХрж░рзНржб ржХрж░рзБржи
  setStartTime(Date.now());
  setNow(Date.now());

  // ржХрзЛржи existing timer clear ржХрж░рзБржи (ржпржжрж┐ user ржПржХрж╛ржзрж┐ржХржмрж╛рж░ Start click ржХрж░рзЗ)
  clearInterval(timerRef.current);

  // ржПржХржЯрж┐ ржирждрзБржи timer рж╢рзБрж░рзБ ржХрж░рзБржи ржПржмржВ ржПрж░ ID ржЖржорж╛ржжрзЗрж░ ref-ржП рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзБржи
  timerRef.current = setInterval(() => {
    setNow(Date.now()); // ржкрзНрж░рждрж┐ 10ms-ржП current time ржЖржкржбрзЗржЯ ржХрж░рзБржи
  }, 10);
}
```

**ржзрж╛ржк рзй: Stop functionality ржпрзЛржЧ ржХрж░рж╛**

```jsx
function handleStop() {
  // ржЖржорж╛ржжрзЗрж░ ref-ржП рж╕ржВрж░ржХрзНрж╖рж┐ржд ID ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ timer clear ржХрж░рзБржи
  clearInterval(timerRef.current);
}
```

### тЬи рж╕ржорзНржкрзВрж░рзНржг Stopwatch ржХрзЛржб

<Tabs items={['Final Code', 'With Styling']}>
  <Tabs.Tab>
    ```jsx
    import { useState, useRef } from 'react';

    export default function Stopwatch() {
      const [startTime, setStartTime] = useState(null);
      const [now, setNow] = useState(null);
      const timerRef = useRef(null);

      function handleStart() {
        setStartTime(Date.now());
        setNow(Date.now());

        clearInterval(timerRef.current);
        timerRef.current = setInterval(() => {
          setNow(Date.now());
        }, 10);
      }

      function handleStop() {
        clearInterval(timerRef.current);
      }

      let secondsPassed = 0;
      if (startTime != null && now != null) {
        secondsPassed = (now - startTime) / 1000;
      }

      return (
        <>
          <h1>Time passed: {secondsPassed.toFixed(3)}</h1>
          <button onClick={handleStart}>Start</button>
          <button onClick={handleStop}>Stop</button>
        </>
      );
    }
    ```

  </Tabs.Tab>
  <Tabs.Tab>
    ```jsx
    import { useState, useRef } from 'react';

    export default function Stopwatch() {
      const [startTime, setStartTime] = useState(null);
      const [now, setNow] = useState(null);
      const timerRef = useRef(null);

      function handleStart() {
        setStartTime(Date.now());
        setNow(Date.now());
        clearInterval(timerRef.current);
        timerRef.current = setInterval(() => setNow(Date.now()), 10);
      }

      function handleStop() {
        clearInterval(timerRef.current);
      }

      let secondsPassed = 0;
      if (startTime != null && now != null) {
        secondsPassed = (now - startTime) / 1000;
      }

      return (
        <div className="p-8 max-w-md mx-auto bg-gradient-to-br from-blue-50 to-indigo-100 rounded-2xl shadow-xl">
          <h1 className="text-3xl font-bold text-center mb-6 text-gray-800">
            тП▒я╕П Stopwatch
          </h1>

          <div className="text-6xl font-mono text-center mb-8 p-4 bg-black text-green-400 rounded-lg">
            {secondsPassed.toFixed(3)}
          </div>

          <div className="flex gap-4 justify-center">
            <button
              onClick={handleStart}
              className="px-6 py-3 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-lg transition-colors"
            >
              тЦ╢я╕П Start
            </button>
            <button
              onClick={handleStop}
              className="px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg transition-colors"
            >
              тП╣я╕П Stop
            </button>
          </div>
        </div>
      );
    }
    ```

  </Tabs.Tab>
</Tabs>

### ЁЯОп ржХрзЗржи ржПржЗ ржЙржжрж╛рж╣рж░ржгржЯрж┐ ржирж┐ржЦрзБржБржд

ржПржЗ stopwatch refs-ржПрж░ ржирж┐ржЦрзБржБржд ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржжрзЗржЦрж╛ржпрж╝:

1. **Timer ID storage**: ржЖржорж╛ржжрзЗрж░ `setInterval` ID ржоржирзЗ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗ ржкрж░рзЗ ржПржЯрж╛ clear ржХрж░рж╛рж░ ржЬржирзНржп, ржХрж┐ржирзНрждрзБ UI-рждрзЗ ржжрзЗржЦрж╛ржирзЛрж░ ржжрж░ржХрж╛рж░ ржирзЗржЗ
2. **ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржирзЗржЗ**: Timer ID state-ржП рж░рж╛ржЦрж╛ ржЕржкржЪржпрж╝ рж╣рждрзЛ ржХрж╛рж░ржг ржПржЯрж╛ ржХржЦржирзЛ рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржЯрзНрж░рж┐ржЧрж╛рж░ ржХрж░рж╛рж░ ржжрж░ржХрж╛рж░ ржирзЗржЗ
3. **Persistence**: Timer ID ржЕржмрж╢рзНржпржЗ re-renders ржерзЗржХрзЗ ржмрзЗржБржЪрзЗ ржерж╛ржХрждрзЗ рж╣ржмрзЗ (рж╕рж╛ржзрж╛рж░ржг variables-ржПрж░ ржмрж┐ржкрж░рзАрждрзЗ)

<Callout type="success" emoji="ЁЯОЙ">
  **ржорзВрж▓ ржХржерж╛**: "ржкрж░рзНржжрж╛рж░ ржЖржбрж╝рж╛рж▓рзЗрж░" values-ржПрж░ ржЬржирзНржп refs ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи ржпрж╛ ржЖржкржирж╛рж░
  component-ржПрж░ ржоржирзЗ рж░рж╛ржЦрж╛ ржжрж░ржХрж╛рж░ ржХрж┐ржирзНрждрзБ ржжрзЗржЦрж╛ржирзЛрж░ ржжрж░ржХрж╛рж░ ржирзЗржЗ!
</Callout>

---

## ЁЯЖЪ Refs ржмржирж╛ржо State: ржХржЦржи ржХрзЛржиржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?

| ржмрзИрж╢рж┐рж╖рзНржЯрзНржп                      | ЁЯОп Refs (`useRef`)                                          | ЁЯФД State (`useState`)       |
| ------------------------------ | ----------------------------------------------------------- | --------------------------- |
| **рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржЯрзНрж░рж┐ржЧрж╛рж░ ржХрж░рзЗ**     | тЭМ ржирж╛                                                       | тЬЕ рж╣рзНржпрж╛ржБ                    |
| **Mutable**                    | тЬЕ рж╣рзНржпрж╛ржБ (`ref.current = newValue`)                         | тЭМ ржирж╛ (setter ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи) |
| **Renders-ржПрж░ ржоржзрзНржпрзЗ ржЯрж┐ржХрзЗ ржерж╛ржХрзЗ** | тЬЕ рж╣рзНржпрж╛ржБ                                                    | тЬЕ рж╣рзНржпрж╛ржБ                    |
| **Initial value**              | ржпрзЗржХрзЛржирзЛ value                                                | ржпрзЗржХрзЛржирзЛ value                |
| **рж╕рзЗрж░рж╛ ржмрзНржпржмрж╣рж╛рж░**               | Timer IDs, UI-рждрзЗ ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝ ржирж╛ ржПржоржи counters, DOM references | Data ржпрж╛ ржЖржкржирж╛рж░ JSX-ржП ржжрзЗржЦрж╛ржпрж╝  |

### ЁЯзн рж╕рж┐ржжрзНржзрж╛ржирзНржд ржЧрж╛ржЗржб

ржирж┐ржЬрзЗржХрзЗ ржкрзНрж░рж╢рзНржи ржХрж░рзБржи: **"ржЖржорж╛рж░ ржХрж┐ ржПржЗ value ржЯрж╛ ржЖржорж╛рж░ component-ржПрж░ JSX-ржП ржжрзЗржЦрж╛рждрзЗ рж╣ржмрзЗ?"**

- **рж╣рзНржпрж╛ржБ** тЖТ `useState` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи ЁЯУК
- **ржирж╛** тЖТ `useRef` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи ЁЯУЭ

---

## ЁЯОп Refs-ржПрж░ рж╕рж╛ржзрж╛рж░ржг ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржХрзНрж╖рзЗрждрзНрж░

### 1. ЁЯХР Timer IDs рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛

```jsx
const timerRef = useRef(null);
timerRef.current = setTimeout(() => {}, 1000);
// ржкрж░рзЗ: clearTimeout(timerRef.current);
```

### 2. ЁЯУК рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржЫрж╛ржбрж╝рж╛ Values ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рж╛

```jsx
const renderCountRef = useRef(0);
renderCountRef.current++; // ржЖрж░рзЛ render ржирж╛ ржШржЯрж┐ржпрж╝рзЗ renders ржЧржгржирж╛ ржХрж░рзБржи!
```

### 3. ЁЯОо ржЖржЧрзЗрж░ Values

```jsx
const prevValueRef = useRef();
useEffect(() => {
  prevValueRef.current = currentValue;
});
```

### 4. ЁЯПГтАНтЩВя╕П Performance Counters

```jsx
const performanceRef = useRef({ clicks: 0, hovers: 0 });
performanceRef.current.clicks++; // рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржЫрж╛ржбрж╝рж╛ржЗ ржЖржкржбрзЗржЯ ржХрж░рзБржи
```

---

## ЁЯЪи ржПржбрж╝рж┐ржпрж╝рзЗ ржЪрж▓рж╛рж░ рж╕рж╛ржзрж╛рж░ржг ржнрзБрж▓ржЧрзБрж▓рзЛ

### тЭМ Rendering-ржПрж░ рж╕ржоржпрж╝ Refs ржкржбрж╝ржмрзЗржи/рж▓рж┐ржЦржмрзЗржи ржирж╛

```jsx
// ржЦрж╛рж░рж╛ржк: ржПржЯрж╛ ржХрж░ржмрзЗржи ржирж╛!
function BadComponent() {
  const ref = useRef(0);
  ref.current = ref.current + 1; // тЭМ Render-ржПрж░ рж╕ржоржпрж╝ mutating
  return <div>{ref.current}</div>;
}

// ржнрж╛рж▓рзЛ: ржПржЯрж╛ ржХрж░рзБржи
function GoodComponent() {
  const ref = useRef(0);

  function handleClick() {
    ref.current = ref.current + 1; // тЬЕ Event handler-ржП mutate ржХрж░рзБржи
    console.log(ref.current);
  }

  return <button onClick={handleClick}>Click</button>;
}
```

### тЭМ ржпрзЗ Values ржжрзЗржЦрж╛рждрзЗ ржЪрж╛ржи рж╕рзЗржЧрзБрж▓рзЛрж░ ржЬржирзНржп Refs ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи ржирж╛

```jsx
// ржЦрж╛рж░рж╛ржк: ref ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗ UI ржЖржкржбрзЗржЯ рж╣ржмрзЗ ржирж╛
function BadCounter() {
  const count = useRef(0);
  return <div>{count.current}</div>; // тЭМ ржЖржкржбрзЗржЯ рж╣ржмрзЗ ржирж╛!
}

// ржнрж╛рж▓рзЛ: UI values-ржПрж░ ржЬржирзНржп state ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи
function GoodCounter() {
  const [count, setCount] = useState(0);
  return <div>{count}</div>; // тЬЕ рж╕ржарж┐ржХржнрж╛ржмрзЗ ржЖржкржбрзЗржЯ рж╣ржпрж╝!
}
```

---

## ЁЯОЙ ржорзВрж▓ рж╢рж┐ржХрзНрж╖рж╛

<Callout type="info" emoji="ЁЯОп">
**ржПржЗ рж╕рзЛржирж╛рж▓рзА ржирж┐ржпрж╝ржоржЧрзБрж▓рзЛ ржоржирзЗ рж░рж╛ржЦрзБржи**:

1. **Refs рж╣рж▓ ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржЬржирзНржп** ржпрзЗ values ржЖржкржирж╛рж░ UI ржкрзНрж░ржнрж╛ржмрж┐ржд ржХрж░рзЗ ржирж╛
2. **State рж╣рж▓ рж╕рзЗржЗ values-ржПрж░ ржЬржирзНржп** ржпрж╛ ржЖржкржирж╛рж░ UI ржкрзНрж░ржнрж╛ржмрж┐ржд ржХрж░рзЗ
3. **Refs ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж▓рзЗ** рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржЯрзНрж░рж┐ржЧрж╛рж░ рж╣ржпрж╝ ржирж╛
4. **Refs renders-ржПрж░ ржоржзрзНржпрзЗ ржЯрж┐ржХрзЗ ржерж╛ржХрзЗ** (рж╕рж╛ржзрж╛рж░ржг variables-ржПрж░ ржмрж┐ржкрж░рзАрждрзЗ)
5. **Timer IDs, counters ржПржмржВ ржЕржирзНржпрж╛ржирзНржп "ржкрж░рзНржжрж╛рж░ ржЖржбрж╝рж╛рж▓рзЗрж░" data рж╕ржВрж░ржХрзНрж╖ржгрзЗрж░ ржЬржирзНржп ржирж┐ржЦрзБржБржд**
</Callout>

---

## ЁЯЪА ржкрж░ржмрж░рзНрждрзАрждрзЗ ржХрзА?

ржПржЦржи ржпрзЗрж╣рзЗрждрзБ ржЖржкржирж┐ refs ржмрзБржЭрзЗржЫрзЗржи, ржЖржкржирж┐ ржПржЧрзБрж▓рзЛ ржЕржирзНржмрзЗрж╖ржг ржХрж░рждрзЗ ржкрзНрж░рж╕рзНрждрзБржд:

- **DOM refs** - рж╕рж░рж╛рж╕рж░рж┐ DOM elements ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛
- **forwardRef** - Child components-ржП refs ржкрж╛рж╕ ржХрж░рж╛
- **useImperativeHandle** - Ref behavior ржХрж╛рж╕рзНржЯржорж╛ржЗржЬ ржХрж░рж╛

ржЖржиржирзНржжрзЗрж░ рж╕рж╛ржерзЗ ржХрзЛржбрж┐ржВ ржХрж░рзБржи! ЁЯОК
