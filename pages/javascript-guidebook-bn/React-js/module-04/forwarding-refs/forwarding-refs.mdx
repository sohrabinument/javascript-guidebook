# React ржП Refs ржлрж░ржУржпрж╝рж╛рж░рзНржб ржХрж░рж╛ ЁЯЪАтЬи

Ref forwarding рж╣рж▓рзЛ ржПржХржЯрж┐ ржХрзМрж╢рж▓ ржпрж╛ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржПржХржЯрж┐ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржорж╛ржзрзНржпржорзЗ ref ржХрзЗ рждрж╛рж░ ржПржХржЯрж┐ ржЪрж╛ржЗрж▓рзНржб ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ ржкрж╛рж╕ ржХрж░рзЗ ЁЯОпред ржПржЗ ржкрзНржпрж╛ржЯрж╛рж░рзНржиржЯрж┐ ржкрзБржирж░рж╛ржпрж╝ ржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп ржХржорзНржкрзЛржирзЗржирзНржЯ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ рждрзИрж░рж┐ ржХрж░рждрзЗ ЁЯУЪ ржПржмржВ ржЪрж╛ржЗрж▓рзНржб ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ DOM ржПрж▓рж┐ржорзЗржирзНржЯ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛рж░ ржЬржирзНржп ржЕржкрж░рж┐рж╣рж╛рж░рзНржп ЁЯФНред

import { Callout } from "nextra/components";

<Callout type="info" emoji="ЁЯОУ">
  **ржЖржкржирж┐ ржпрж╛ рж╢рж┐ржЦржмрзЗржи:** ржХрж┐ржнрж╛ржмрзЗ DOM ржПрж▓рж┐ржорзЗржирзНржЯрзЗ refs ржлрж░ржУржпрж╝рж╛рж░рзНржб ржХрж░ржмрзЗржи ЁЯОк, ржХржорзНржкрзЛржирзЗржирзНржЯ
  рж╣рж╛ржпрж╝рж╛рж░рж╛рж░рзНржХрж┐рж░ ржорж╛ржзрзНржпржорзЗ refs ржкрж╛рж╕ ржХрж░ржмрзЗржи ЁЯзй, ржПржмржВ ржХрж╛рж╕рзНржЯржо imperative API ржПржХрзНрж╕ржкрзЛржЬ
  ржХрж░ржмрзЗржи ЁЯЫая╕Пред
</Callout>

## рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржмрж┐ржмрж░ржг ЁЯМЯ

React ржП, refs рж╕рж░рж╛рж╕рж░рж┐ DOM ржирзЛржб ржмрж╛ ржХржорзНржкрзЛржирзЗржирзНржЯ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛рж░ ржПржХржЯрж┐ ржЙржкрж╛ржпрж╝ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗ ЁЯОпред рждржмрзЗ, ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ, ржЖржкржирж┐ ржПржХржЯрж┐ ржХрж╛рж╕рзНржЯржо ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ ref ржкрж╛рж╕ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи ржирж╛ ржПржмржВ ржПржЯрж┐ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ рж╕рзЗржЗ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржнрж┐рждрж░рзЗрж░ DOM ржПрж▓рж┐ржорзЗржирзНржЯрзЗ рж╕ржВржпрзБржХрзНржд рж╣ржмрзЗ ржирж╛ ЁЯЪлред Ref forwarding ржПржЗ рж╕ржорж╕рзНржпрж╛рж░ рж╕ржорж╛ржзрж╛ржи ржХрж░рзЗ ржпрж╛ржжрзБрж░ ржорждрзЛ! ЁЯкД

## ржорзМрж▓рж┐ржХ Ref Forwarding ЁЯПЧя╕П

ржПржХржЯрж┐ рж╕рж╣ржЬ ржЙржжрж╛рж╣рж░ржг ржжрж┐ржпрж╝рзЗ рж╢рзБрж░рзБ ржХрж░рж╛ ржпрж╛ржХ ЁЯМ▒ред ржПржЦрж╛ржирзЗ ржПржХржЯрж┐ ржмрзЗрж╕рж┐ржХ ржмрж╛ржЯржи ржХржорзНржкрзЛржирзЗржирзНржЯ рж░ржпрж╝рзЗржЫрзЗ:

```jsx
function Button(props) {
  return <button className="btn">{props.children} ЁЯФШ</button>;
}
```

ржПржЗ ржХржорзНржкрзЛржирзЗржирзНржЯржЯрж┐ржХрзЗ ржПржХржЯрж┐ ref ржЧрзНрж░рж╣ржг ржХрж░рждрзЗ ржПржмржВ ржПржЯрж┐ржХрзЗ ржЕржирзНрждрж░рзНржирж┐рж╣рж┐ржд DOM ржПрж▓рж┐ржорзЗржирзНржЯрзЗ ржлрж░ржУржпрж╝рж╛рж░рзНржб ржХрж░рждрзЗ, `React.forwardRef` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи ЁЯОн:

```jsx
import React from "react";

const Button = React.forwardRef((props, ref) => (
  <button ref={ref} className="btn">
    {props.children} тЬи
  </button>
));

// ржПржЦржи ржЖржкржирж┐ ржПржЯрж┐ржХрзЗ ржПржХржЯрж┐ ref рж╕рж╣ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи ЁЯОЙ
function App() {
  const buttonRef = React.useRef(null);

  return <Button ref={buttonRef}>ржЖржорж╛ржХрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи! ЁЯЪА</Button>;
}
```

<Callout type="warning" emoji="тЪая╕П">
  `ref` ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ рждржЦржиржЗ ржЙржкрж▓ржмрзНржз ржпржЦржи ржЖржкржирж┐ `React.forwardRef` ржжрж┐ржпрж╝рзЗ
  ржПржХржЯрж┐ ржХржорзНржкрзЛржирзЗржирзНржЯ ржбрж┐ржлрж╛ржЗржи ржХрж░рзЗржи ЁЯОкред рж╕рж╛ржзрж╛рж░ржг ржлрж╛ржВрж╢ржи ржХржорзНржкрзЛржирзЗржирзНржЯ props рж╣рж┐рж╕рзЗржмрзЗ refs
  ржЧрзНрж░рж╣ржг ржХрж░рзЗ ржирж╛!
</Callout>

## ржмрж╛рж╕рзНрждржм-ржЬржЧрждрзЗрж░ ржЙржжрж╛рж╣рж░ржг: ржХрж╛рж╕рзНржЯржо ржЗржиржкрзБржЯ ржлрж┐рж▓рзНржб ЁЯУЭ

ржПржЦрж╛ржирзЗ ржПржХржЯрж┐ ржХрж╛рж╕рзНржЯржо ржЗржиржкрзБржЯ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржЖрж░ржУ ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржЙржжрж╛рж╣рж░ржг рж░ржпрж╝рзЗржЫрзЗ ржпрж╛ рждрж╛рж░ ржкрзНржпрж╛рж░рзЗржирзНржЯ ржерзЗржХрзЗ ржлрзЛржХрж╛рж╕ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ ЁЯОп:

```jsx
import React, { useRef } from "react";

const CustomInput = React.forwardRef(function CustomInput(props, ref) {
  return (
    <div className="input-wrapper">
      <label htmlFor={props.id}>{props.label} ЁЯП╖я╕П</label>
      <input ref={ref} id={props.id} className="custom-input" {...props} />
    </div>
  );
});

function ContactForm() {
  const nameInputRef = useRef(null);
  const emailInputRef = useRef(null);

  const focusNameInput = () => {
    nameInputRef.current?.focus(); // ЁЯОп ржирж╛ржо ржЗржиржкрзБржЯ ржлрзЛржХрж╛рж╕ ржХрж░рзБржи
  };

  const focusEmailInput = () => {
    emailInputRef.current?.focus(); // ЁЯОп ржЗржорзЗржЗрж▓ ржЗржиржкрзБржЯ ржлрзЛржХрж╛рж╕ ржХрж░рзБржи
  };

  return (
    <form>
      <CustomInput
        label="ржирж╛ржо"
        id="name"
        ref={nameInputRef}
        placeholder="ржЖржкржирж╛рж░ ржирж╛ржо рж▓рж┐ржЦрзБржи ЁЯСд"
      />

      <CustomInput
        label="ржЗржорзЗржЗрж▓"
        id="email"
        ref={emailInputRef}
        type="email"
        placeholder="ржЖржкржирж╛рж░ ржЗржорзЗржЗрж▓ рж▓рж┐ржЦрзБржи ЁЯУз"
      />

      <div className="button-group">
        <button type="button" onClick={focusNameInput}>
          ржирж╛ржо ржлрзЛржХрж╛рж╕ ржХрж░рзБржи ЁЯОп
        </button>
        <button type="button" onClick={focusEmailInput}>
          ржЗржорзЗржЗрж▓ ржлрзЛржХрж╛рж╕ ржХрж░рзБржи ЁЯУз
        </button>
      </div>
    </form>
  );
}
```

## ржПржХрж╛ржзрж┐ржХ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржорж╛ржзрзНржпржорзЗ Refs ржлрж░ржУржпрж╝рж╛рж░рзНржб ржХрж░рж╛ ЁЯзй

ржЖржкржирж┐ рж░рж┐рж▓рзЗ рж░рзЗрж╕рзЗрж░ ржорждрзЛ ржмрзЗрж╢ ржХржпрж╝рзЗржХржЯрж┐ рж╕рзНрждрж░рзЗрж░ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржорж╛ржзрзНржпржорзЗ refs ржлрж░ржУржпрж╝рж╛рж░рзНржб ржХрж░рждрзЗ ржкрж╛рж░рзЗржи ЁЯПГтАНтЩВя╕ПЁЯТи:

```jsx
const FormField = React.forwardRef(function FormField(props, ref) {
  return (
    <div className="form-field">
      <CustomInput ref={ref} {...props} />
      {props.error && <span className="error">тЭМ {props.error}</span>}
    </div>
  );
});

const FormSection = React.forwardRef(function FormSection(props, ref) {
  return (
    <section className="form-section">
      <h3>{props.title} ЁЯУЛ</h3>
      <FormField ref={ref} {...props} />
    </section>
  );
});

function AdvancedForm() {
  const firstFieldRef = useRef(null);

  return (
    <form>
      <FormSection
        title="ржмрзНржпржХрзНрждрж┐ржЧржд рждржерзНржп"
        label="ржкрзНрж░ржержо ржирж╛ржо"
        ref={firstFieldRef}
        placeholder="ржЖржкржирж╛рж░ ржкрзНрж░ржержо ржирж╛ржо рж▓рж┐ржЦрзБржи ЁЯСЛ"
      />

      <button type="button" onClick={() => firstFieldRef.current?.focus()}>
        ржкрзНрж░ржержо ржлрж┐рж▓рзНржб ржлрзЛржХрж╛рж╕ ржХрж░рзБржи ЁЯОптЬи
      </button>
    </form>
  );
}
```

## ржЙржирзНржиржд: useImperativeHandle ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ЁЯОн

ржХржЦржиржУ ржХржЦржиржУ ржЖржкржирж┐ рж╕ржорзНржкрзВрж░рзНржг DOM ржирзЛржбрзЗрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ ржХрж╛рж╕рзНржЯржо ржорзЗржержб ржПржХрзНрж╕ржкрзЛржЬ ржХрж░рждрзЗ ржЪрж╛ржи ЁЯЫая╕Пред ржПрж░ ржЬржирзНржп `useImperativeHandle` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи:

```jsx
import React, { useRef, useImperativeHandle, forwardRef } from "react";

const MagicInput = forwardRef((props, ref) => {
  const inputRef = useRef(null);

  useImperativeHandle(ref, () => ({
    // ЁЯОп ржЗржиржкрзБржЯ ржлрзЛржХрж╛рж╕ ржХрж░рзБржи
    focus: () => {
      inputRef.current?.focus();
    },

    // ЁЯУЬ ржнрж┐ржЙрждрзЗ рж╕рзНржХрзНрж░рж▓ ржХрж░рзБржи
    scrollIntoView: () => {
      inputRef.current?.scrollIntoView({ behavior: "smooth" });
    },

    // тЬи ржЕрзНржпрж╛ржирж┐ржорзЗрж╢ржи рж╕рж╣ ржЗржиржкрзБржЯ ржХрзНрж▓рж┐ржпрж╝рж╛рж░ ржХрж░рзБржи
    clearWithAnimation: () => {
      const input = inputRef.current;
      if (input) {
        input.style.transition = "opacity 0.3s";
        input.style.opacity = "0.5";
        setTimeout(() => {
          input.value = "";
          input.style.opacity = "1";
        }, 300);
      }
    },

    // ЁЯОи ржмрж░рзНрждржорж╛ржи ржорж╛ржи ржкрж╛ржи
    getValue: () => inputRef.current?.value || "",

    // ЁЯФН рж╕ржорж╕рзНржд ржЯрзЗржХрзНрж╕ржЯ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи
    selectAll: () => inputRef.current?.select(),
  }));

  return <input ref={inputRef} className="magic-input" {...props} />;
});

function MagicForm() {
  const magicRef = useRef(null);

  return (
    <div>
      <MagicInput ref={magicRef} placeholder="ржПржЯрж┐ ржПржХржЯрж┐ ржпрж╛ржжрзБржХрж░рзА ржЗржиржкрзБржЯ! тЬи" />

      <div className="controls">
        <button onClick={() => magicRef.current?.focus()}>ржлрзЛржХрж╛рж╕ ЁЯОп</button>
        <button onClick={() => magicRef.current?.clearWithAnimation()}>
          ржХрзНрж▓рж┐ржпрж╝рж╛рж░ тЬи
        </button>
        <button onClick={() => magicRef.current?.selectAll()}>
          рж╕ржм ржирж┐рж░рзНржмрж╛ржЪржи ЁЯФН
        </button>
        <button onClick={() => alert(`ржорж╛ржи: ${magicRef.current?.getValue()}`)}>
          ржорж╛ржи ржкрж╛ржи ЁЯУЛ
        </button>
      </div>
    </div>
  );
}
```

## рж╕рж░рзНржмрзЛрждрзНрждржо ржЕржирзБрж╢рзАрж▓ржи ржПржмржВ рж╕рж╛ржзрж╛рж░ржг ржнрзБрж▓ ЁЯТбтЪая╕П

<Callout type="info" emoji="ЁЯТб">
  **рж╕рж░рзНржмрзЛрждрзНрждржо ржЕржирзБрж╢рзАрж▓ржи:**

      - ржкрзБржирж░рж╛ржпрж╝ ржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп UI ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржЬржирзНржп ref forwarding ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи ЁЯзй
      - ржпржЦржи ржЖржкржирж╛рж░ DOM ржорзЗржержб (focus, scroll, ржЗрждрзНржпрж╛ржжрж┐) ржПржХрзНрж╕ржкрзЛржЬ ржХрж░рждрзЗ рж╣ржмрзЗ рждржЦржи refs ржлрж░ржУржпрж╝рж╛рж░рзНржб ржХрж░рзБржи ЁЯОп
      - ржнрж╛рж▓ ржбрж┐ржмрж╛ржЧрж┐ржВржпрж╝рзЗрж░ ржЬржирзНржп `forwardRef` ржПрж░ рж╕рж╛ржерзЗ ржмрж░рзНржгржирж╛ржорзВрж▓ржХ ржирж╛ржо ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи ЁЯРЫ
      - ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржЖржЧрзЗ рж╕рж░рзНржмржжрж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи ржпрзЗ ref ржмрж┐ржжрзНржпржорж╛ржи ржХрж┐ржирж╛ (`ref.current?.method()`) тЬЕ

  </Callout>

<Callout type="error" emoji="ЁЯЪл">
      **рж╕рж╛ржзрж╛рж░ржг ржнрзБрж▓:** 
      - refs ржПрж░ ржЕрждрж┐рж░рж┐ржХрзНржд ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи ржирж╛! ржмрзЗрж╢рж┐рж░ржнрж╛ржЧ ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХрж╢ржирзЗрж░ ржЬржирзНржп props ржПржмржВ state ржкржЫржирзНржж ржХрж░рзБржи ЁЯОн 
      - ржоржирзЗ рж░рж╛ржЦржмрзЗржи ржпрзЗ `ref` ржПржХржЯрж┐ prop ржиржпрж╝ - ржПржЯрж┐ React ржжрзНржмрж╛рж░рж╛ ржмрж┐рж╢рзЗрж╖ржнрж╛ржмрзЗ ржкрж░рж┐ржЪрж╛рж▓рж┐ржд рж╣ржпрж╝ ЁЯФН 
      - ржпрзЗ ржЬрж┐ржирж┐рж╕ржЧрзБрж▓рж┐ declaratively ржХрж░рж╛ ржпрж╛ржпрж╝ рж╕рзЗржЧрзБрж▓рж┐рж░ ржЬржирзНржп refs ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржПржбрж╝рж┐ржпрж╝рзЗ ржЪрж▓рзБржи ЁЯУЭ 
      - `forwardRef` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржнрзБрж▓ржмрзЗржи ржирж╛ - рж╕рж╛ржзрж╛рж░ржг ржлрж╛ржВрж╢ржи refs ржЧрзНрж░рж╣ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржирж╛ ЁЯОк

</Callout>

## ржХржЦржи Ref Forwarding ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи ЁЯдФ

Ref forwarding ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи ржпржЦржи ржЖржкржирж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржи:

- **ржлрзЛржХрж╛рж╕ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ** ЁЯОп - ржЗржиржкрзБржЯ, ржмрж╛ржЯржи ржмрж╛ ржЕржирзНржпрж╛ржирзНржп ржПрж▓рж┐ржорзЗржирзНржЯ ржлрзЛржХрж╛рж╕ ржХрж░рж╛
- **рж╕рзНржХрзНрж░рж▓ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг** ЁЯУЬ - ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПрж▓рж┐ржорзЗржирзНржЯрзЗ рж╕рзНржХрзНрж░рж▓ ржХрж░рж╛
- **ржЕрзНржпрж╛ржирж┐ржорзЗрж╢ржи ржЯрзНрж░рж┐ржЧрж╛рж░** тЬи - CSS ржЕрзНржпрж╛ржирж┐ржорзЗрж╢ржи ржмрж╛ ржЯрзНрж░рж╛ржиржЬрж┐рж╢ржи ржЯрзНрж░рж┐ржЧрж╛рж░ ржХрж░рж╛
- **ржПрж▓рж┐ржорзЗржирзНржЯ ржкрж░рж┐ржорж╛ржк** ЁЯУП - ржПрж▓рж┐ржорзЗржирзНржЯрзЗрж░ ржорж╛рждрзНрж░рж╛ ржмрж╛ ржЕржмрж╕рзНржерж╛ржи ржкрж╛ржУржпрж╝рж╛
- **рждрзГрждрзАржпрж╝ ржкржХрзНрж╖рзЗрж░ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ ржЗржирзНржЯрж┐ржЧрзНрж░рзЗрж╢ржи** ЁЯФМ - ржиржи-React рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ржЧрзБрж▓рж┐рж░ рж╕рж╛ржерзЗ рж╕ржВржпрзЛржЧ
- **Imperative APIs** ЁЯЫая╕П - ржорж┐ржбрж┐ржпрж╝рж╛ ржПрж▓рж┐ржорзЗржирзНржЯрзЗрж░ ржЬржирзНржп play/pause ржПрж░ ржорждрзЛ ржорзЗржержб ржПржХрзНрж╕ржкрзЛржЬ ржХрж░рж╛

## ржмрж┐ржХрж▓рзНржк ржкрзНржпрж╛ржЯрж╛рж░рзНржи ЁЯФД

### Callback Refs ЁЯУЮ

ржХржЦржиржУ ржХржЦржиржУ callback refs `forwardRef` ржПрж░ ржЪрзЗржпрж╝рзЗ рж╕рж╣ржЬ:

```jsx
function MyComponent({ onInputReady }) {
  return (
    <input
      ref={onInputReady} // ЁЯУЮ Callback ref
      placeholder="Callback ref ржЙржжрж╛рж╣рж░ржг"
    />
  );
}

function Parent() {
  const handleInputReady = (inputElement) => {
    if (inputElement) {
      // ЁЯОп ржЗржиржкрзБржЯ ржПрж▓рж┐ржорзЗржирзНржЯ ржжрж┐ржпрж╝рзЗ ржХрж┐ржЫрзБ ржХрж░рзБржи
      inputElement.focus();
    }
  };

  return <MyComponent onInputReady={handleInputReady} />;
}
```

### Render Props ржкрзНржпрж╛ржЯрж╛рж░рзНржи ЁЯОн

ржЖрж░ржУ ржЬржЯрж┐рж▓ ржкрж░рж┐рж╕рзНржерж┐рждрж┐рждрзЗ, render props ржмрж┐ржмрзЗржЪржирж╛ ржХрж░рзБржи:

```jsx
function FocusableInput({ children }) {
  const inputRef = useRef(null);

  const focusInput = () => inputRef.current?.focus();

  return children({ inputRef, focusInput });
}

function App() {
  return (
    <FocusableInput>
      {({ inputRef, focusInput }) => (
        <div>
          <input ref={inputRef} placeholder="Render prop ржЙржжрж╛рж╣рж░ржг ЁЯОн" />
          <button onClick={focusInput}>ржлрзЛржХрж╛рж╕! ЁЯОп</button>
        </div>
      )}
    </FocusableInput>
  );
}
```

## TypeScript рж╕рж╛ржкрзЛрж░рзНржЯ ЁЯТЩ

TypeScript ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржжрзЗрж░ ржЬржирзНржп, ржПржнрж╛ржмрзЗ ржЖржкржирж╛рж░ ржлрж░ржУржпрж╝рж╛рж░рзНржб ржХрж░рж╛ refs ржПрж░ рж╕ржарж┐ржХ ржЯрж╛ржЗржкрж┐ржВ ржХрж░рзБржи:

```tsx
import React, { forwardRef } from "react";

interface ButtonProps {
  children: React.ReactNode;
  variant?: "primary" | "secondary";
  onClick?: () => void;
}

const Button = forwardRef<HTMLButtonElement, ButtonProps>(
  ({ children, variant = "primary", ...props }, ref) => {
    return (
      <button ref={ref} className={`btn btn-${variant}`} {...props}>
        {children} тЬи
      </button>
    );
  }
);

// ЁЯП╖я╕П ржбрж┐ржмрж╛ржЧрж┐ржВржпрж╝рзЗрж░ ржЬржирзНржп display name ржнрзБрж▓ржмрзЗржи ржирж╛!
Button.displayName = "Button";
```

## ржлрж░ржУржпрж╝рж╛рж░рзНржб ржХрж░рж╛ Refs ржЯрзЗрж╕рзНржЯ ржХрж░рж╛ ЁЯзк

ржлрж░ржУржпрж╝рж╛рж░рзНржб ржХрж░рж╛ refs рж╕рж╣ ржХржорзНржкрзЛржирзЗржирзНржЯ ржХрзАржнрж╛ржмрзЗ ржЯрзЗрж╕рзНржЯ ржХрж░ржмрзЗржи:

```jsx
import { render, screen } from "@testing-library/react";
import userEvent from "@testing-library/user-event";

test("ржмрж╛ржЯржи ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ ржЗржиржкрзБржЯ ржлрзЛржХрж╛рж╕ рж╣ржУржпрж╝рж╛ ржЙржЪрж┐ржд ЁЯзк", async () => {
  const user = userEvent.setup();

  function TestComponent() {
    const inputRef = useRef(null);

    return (
      <div>
        <CustomInput
          ref={inputRef}
          placeholder="ржЯрзЗрж╕рзНржЯ ржЗржиржкрзБржЯ"
          data-testid="test-input"
        />
        <button onClick={() => inputRef.current?.focus()}>ржлрзЛржХрж╛рж╕ ЁЯОп</button>
      </div>
    );
  }

  render(<TestComponent />);

  const input = screen.getByTestId("test-input");
  const button = screen.getByText("ржлрзЛржХрж╛рж╕ ЁЯОп");

  await user.click(button);

  expect(input).toHaveFocus(); // тЬЕ ржЯрзЗрж╕рзНржЯ ржкрж╛рж╕!
});
```

## рж░рж┐рж╕рзЛрж░рзНрж╕ ржПржмржВ ржЖрж░ржУ ржкржбрж╝рж╛рж╢рзЛржирж╛ ЁЯУЪ

- [React ржЕржлрж┐рж╕рж┐ржпрж╝рж╛рж▓ ржбржХрж╕: forwardRef](https://react.dev/reference/react/forwardRef) ЁЯУЦ
- [React ржЕржлрж┐рж╕рж┐ржпрж╝рж╛рж▓ ржбржХрж╕: useImperativeHandle](https://react.dev/reference/react/useImperativeHandle) ЁЯЫая╕П
- [React ржЕржлрж┐рж╕рж┐ржпрж╝рж╛рж▓ ржбржХрж╕: Refs ржжрж┐ржпрж╝рзЗ DOM ржорзНржпрж╛ржирж┐ржкрзБрж▓рзЗржЯ ржХрж░рж╛](https://react.dev/learn/manipulating-the-dom-with-refs) ЁЯОп

---

## рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк ЁЯОЙ

Ref forwarding ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржкрзНржпрж╛ржЯрж╛рж░рзНржи ржпрж╛ рж╕ржХрзНрж╖ржо ржХрж░рзЗ:

- **ржХржорзНржкрзЛржирзЗржирзНржЯ ржХржорзНржкрзЛржЬрж┐рж╢ржи** ЁЯзй - ржкрзБржирж░рж╛ржпрж╝ ржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп ржХржорзНржкрзЛржирзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛ ржирж┐рж░рзНржмрж┐ржШрзНржирзЗ ржПржХрж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рзЗ
- **DOM ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕** ЁЯОп - ржкрзНржпрж╛рж░рзЗржирзНржЯ ржХржорзНржкрзЛржирзЗржирзНржЯржЧрзБрж▓рж┐ржХрзЗ ржЪрж╛ржЗрж▓рзНржб DOM ржПрж▓рж┐ржорзЗржирзНржЯрзЗрж░ рж╕рж░рж╛рж╕рж░рж┐ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржжрзЗржУржпрж╝рж╛
- **Imperative APIs** ЁЯЫая╕П - ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржирзЗрж░ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЧрзЛржкржи рж░рзЗржЦрзЗ ржХрж╛рж╕рзНржЯржо ржорзЗржержб ржПржХрзНрж╕ржкрзЛржЬ ржХрж░рж╛
- **рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ ржЗржирзНржЯрж┐ржЧрзНрж░рзЗрж╢ржи** ЁЯФМ - рждрзГрждрзАржпрж╝ ржкржХрзНрж╖рзЗрж░ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ржЧрзБрж▓рж┐рж░ рж╕рж╛ржерзЗ React ржХржорзНржкрзЛржирзЗржирзНржЯ рж╕ржВржпрзЛржЧ ржХрж░рж╛

Ref forwarding ржЖржпрж╝рждрзНржд ржХрж░рзБржи, ржПржмржВ ржЖржкржирж┐ ржЖрж░ржУ ржиржоржирзАржпрж╝ ржПржмржВ ржкрзБржирж░рж╛ржпрж╝ ржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп React ржХржорзНржкрзЛржирзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╕ржХрзНрж╖ржо рж╣ржмрзЗржи! ЁЯЪАтЬи

ржЖржиржирзНржжрзЗрж░ рж╕рж╛ржерзЗ ржХрзЛржбрж┐ржВ ржХрж░рзБржи! ЁЯОК
