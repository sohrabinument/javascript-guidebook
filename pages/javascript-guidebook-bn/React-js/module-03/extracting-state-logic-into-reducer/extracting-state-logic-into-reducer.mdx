---
title: "React-ржП рж░рж┐ржбрж┐ржЙрж╕рж╛рж░-ржП рж╕рзНржЯрзЗржЯ рж▓ржЬрж┐ржХ ржПржХрзНрж╕ржЯрзНрж░рж╛ржХрзНржЯ ржХрж░рж╛ ЁЯзаЁЯТб"
description: "рж░рж┐ржбрж┐ржЙрж╕рж╛рж░ ржжрж┐ржпрж╝рзЗ React-ржП ржЬржЯрж┐рж▓ state ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯрзЗрж░ ржЬржирзНржп ржПржХржжржо ржмрж┐ржЧрж┐ржирж╛рж░ ржерзЗржХрзЗ ржЕрзНржпрж╛ржбржнрж╛ржирзНрж╕ржб ржЧрж╛ржЗржб, ржЪрж┐рждрзНрж░, ржЙржжрж╛рж╣рж░ржг, ржЪрзНржпрж╛рж▓рзЗржЮрзНржЬ ржУ ржЯрж┐ржкрж╕рж╕рж╣!"
---

# React-ржП рж░рж┐ржбрж┐ржЙрж╕рж╛рж░-ржП рж╕рзНржЯрзЗржЯ рж▓ржЬрж┐ржХ ржПржХрзНрж╕ржЯрзНрж░рж╛ржХрзНржЯ ржХрж░рж╛ ЁЯЪАЁЯзй

> **ржПржЗ ржЧрж╛ржЗржбржЯрж┐ ржЖржкржирж╛ржХрзЗ ржПржХржжржо ржмрж┐ржЧрж┐ржирж╛рж░ ржерзЗржХрзЗ ржЕрзНржпрж╛ржбржнрж╛ржирзНрж╕ржб ржкрж░рзНржпржирзНржд рж░рж┐ржбрж┐ржЙрж╕рж╛рж░ рж╢рзЗржЦрж╛ржмрзЗред рж╕рж╣ржЬ ржнрж╛рж╖рж╛, ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг, ржЪрж┐рждрзНрж░ ржУ ржЪрзНржпрж╛рж▓рзЗржЮрзНржЬ ржерж╛ржХржмрзЗ!**

---

## React-ржП State ржХрзА? ЁЯПЧя╕П

React-ржП **state** рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржмрж╛ржХрзНрж╕, ржпрзЗржЦрж╛ржирзЗ ржХржорзНржкрзЛржирзЗржирзНржЯ рждрж╛рж░ ржжрж░ржХрж╛рж░рж┐ рждржерзНржп рж░рж╛ржЦрзЗред ржпрзЗржоржи, ржХрж╛ржЙржирзНржЯрж╛рж░ ржерж╛ржХрж▓рзЗ рж╕ржВржЦрзНржпрж╛ржЯрж┐ state-ржП ржерж╛ржХрзЗ, ржЯрзБ-ржбрзБ рж▓рж┐рж╕рзНржЯ ржерж╛ржХрж▓рзЗ ржЯрж╛рж╕рзНржХржЧрзБрж▓рзЛ state-ржП ржерж╛ржХрзЗред

- **state ржорж╛ржирзЗ ржПржоржи ржбрзЗржЯрж╛, ржпрж╛ рж╕ржоржпрж╝рзЗрж░ рж╕рж╛ржерзЗ ржмржжрж▓рж╛рждрзЗ ржкрж╛рж░рзЗред**
- **state ржмржжрж▓рж╛рж▓рзЗ UI ржЕржЯрзЛржорзЗржЯрж┐ржХ ржЖржкржбрзЗржЯ рж╣ржпрж╝!**

### ржЙржжрж╛рж╣рж░ржг: ржПржХржЯрж┐ рж╕рж╣ржЬ ржХрж╛ржЙржирзНржЯрж╛рж░

```js
import { useState } from "react";

function Counter() {
  const [count, setCount] = useState(0);
  return (
    <button onClick={() => setCount(count + 1)}>
      ржЖржкржирж┐ {count} ржмрж╛рж░ ржХрзНрж▓рж┐ржХ ржХрж░рзЗржЫрзЗржи
    </button>
  );
}
```

---

## Reducer ржХрзЗржи ржжрж░ржХрж╛рж░? ЁЯдФ

рж╕рж╣ржЬ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ `useState` ржпржерзЗрж╖рзНржЯред ржХрж┐ржирзНрждрзБ ржЕрзНржпрж╛ржк ржмржбрж╝ рж╣рж▓рзЗ:

- ржЕржирзЗржХ state ржПржХрзЗ ржЕржкрж░рзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░рж╢рзАрж▓ рж╣ржпрж╝
- state ржЖржкржбрзЗржЯрзЗрж░ рж▓ржЬрж┐ржХ ржЬржЯрж┐рж▓ рж╣ржпрж╝
- ржЕржирзЗржХ event handler ржПржХржЗ ржзрж░ржирзЗрж░ ржХрж╛ржЬ ржХрж░рзЗ

ржПрждрзЗ ржХрзЛржб ржЬржЯрж┐рж▓ ржУ ржЕржЧрзЛржЫрж╛рж▓рзЛ рж╣ржпрж╝ред ржзрж░рзБржи, ржмржбрж╝ ржЯрзБ-ржбрзБ рж▓рж┐рж╕рзНржЯрзЗ add, edit, delete, doneтАФрж╕ржм ржЖрж▓рж╛ржжрж╛ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝! ЁЯШ╡тАНЁЯТл

**Reducer ржжрж┐ржпрж╝рзЗ рж╕ржм рж╕рзНржЯрзЗржЯ рж▓ржЬрж┐ржХ ржПржХ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ рж░рж╛ржЦрж╛ ржпрж╛ржпрж╝, ржХрзЛржб ржкржбрж╝рж╛, ржбрж┐ржмрж╛ржЧ ржУ ржорзЗржЗржиржЯрзЗржЗржи рж╕рж╣ржЬ рж╣ржпрж╝ред**

---

## Reducer ржХрзА? ЁЯЫая╕П

**reducer** рж╣рж▓рзЛ ржПржХржЯрж┐ ржлрж╛ржВрж╢ржи, ржпрж╛ ржжрзБржЗржЯрж┐ ржЬрж┐ржирж┐рж╕ ржирзЗржпрж╝:

1. ржмрж░рзНрждржорж╛ржи state
2. ржПржХржЯрж┐ action (ржХрзА рж╣ржпрж╝рзЗржЫрзЗ, рждрж╛рж░ ржмрж░рзНржгржирж╛)

ржПржмржВ ржПржЯрж┐ ржирждрзБржи state рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

**ржЙржжрж╛рж╣рж░ржг:**

- state = ржкрж┐ржЬрзНржЬрж╛ ЁЯНХ
- action = ржЕрж░рзНржбрж╛рж░ (ржпрзЗржоржи, "ржкрзЗржкрж╛рж░рзЛржирж┐ ржпрзЛржЧ ржХрж░рзБржи")
- reducer = рж╢рзЗржл ЁЯСитАНЁЯН│ (ржкрж┐ржЬрзНржЬрж╛ ржУ ржЕрж░рзНржбрж╛рж░ ржирж┐ржпрж╝рзЗ ржирждрзБржи ржкрж┐ржЬрзНржЬрж╛ ржмрж╛ржирж╛ржпрж╝)

```js
function pizzaReducer(pizza, action) {
  if (action.type === "addTopping") {
    return { ...pizza, toppings: [...pizza.toppings, action.topping] };
  }
  // ...other actions
}
```

---

## `useReducer` ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ? ЁЯзСтАНЁЯТ╗

React-ржП `useReducer` рж╣рзБржХ ржжрж┐ржпрж╝рзЗ рж░рж┐ржбрж┐ржЙрж╕рж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ред

```js
const [state, dispatch] = useReducer(reducerFunction, initialState);
```

- `state` = ржмрж░рзНрждржорж╛ржи ржбрзЗржЯрж╛
- `dispatch` = action ржкрж╛ржарж╛ржирзЛрж░ ржлрж╛ржВрж╢ржи
- `reducerFunction` = ржЖржкржирж╛рж░ рж╢рзЗржл (reducer)
- `initialState` = рж╢рзБрж░рзБрждрзЗ state ржХрзЗржоржи

---

## ржЪрж┐рждрзНрж░: Reducer ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ ЁЯЦ╝я╕П

![Reducer Flow Diagram](../../../../../public/reducer.png)
_dispatch ржжрж┐ржпрж╝рзЗ action reducer-ржП ржпрж╛ржпрж╝, рж╕рзЗржЦрж╛ржи ржерзЗржХрзЗ ржирждрзБржи state рждрзИрж░рж┐ рж╣ржпрж╝!_

---

## ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржЙржжрж╛рж╣рж░ржг: ржЯрзБ-ржбрзБ рж▓рж┐рж╕рзНржЯ ЁЯУЭ

ржкрзНрж░ржержорзЗ `useState`, ржкрж░рзЗ `useReducer` ржжрж┐ржпрж╝рзЗ ржЯрзБ-ржбрзБ рж▓рж┐рж╕рзНржЯ ржмрж╛ржирж╛ржирзЛ ржжрзЗржЦрзБржиред

### рзз. `useState` ржжрж┐ржпрж╝рзЗ ржЯрзБ-ржбрзБ рж▓рж┐рж╕рзНржЯ ЁЯз▒

```js
import { useState } from "react";

function TodoApp() {
  const [tasks, setTasks] = useState([]);

  function addTask(text) {
    setTasks([...tasks, { id: Date.now(), text, done: false }]);
  }

  function toggleTask(id) {
    setTasks(
      tasks.map((task) =>
        task.id === id ? { ...task, done: !task.done } : task
      )
    );
  }

  function deleteTask(id) {
    setTasks(tasks.filter((task) => task.id !== id));
  }

  // ...render UI
}
```

**рж╕ржорж╕рзНржпрж╛:**

- рж╕ржм рж▓ржЬрж┐ржХ ржЫржбрж╝рж┐ржпрж╝рзЗ ржЫрж┐ржЯрж┐ржпрж╝рзЗ
- ржлрж┐ржЪрж╛рж░ ржмрж╛ржбрж╝рж▓рзЗ ржХрзЛржб ржЬржЯрж┐рж▓

---

### рзи. `useReducer` ржжрж┐ржпрж╝рзЗ ржЯрзБ-ржбрзБ рж▓рж┐рж╕рзНржЯ ЁЯж╛

рж╕ржм рж▓ржЬрж┐ржХ ржПржХ рж░рж┐ржбрж┐ржЙрж╕рж╛рж░рзЗ ржирж┐ржпрж╝рзЗ ржЖрж╕рзБржи!

```js
import { useReducer } from "react";

function tasksReducer(tasks, action) {
  switch (action.type) {
    case "added":
      return [...tasks, { id: action.id, text: action.text, done: false }];
    case "toggled":
      return tasks.map((task) =>
        task.id === action.id ? { ...task, done: !task.done } : task
      );
    case "deleted":
      return tasks.filter((task) => task.id !== action.id);
    default:
      throw new Error("Unknown action: " + action.type);
  }
}

function TodoApp() {
  const [tasks, dispatch] = useReducer(tasksReducer, []);

  function addTask(text) {
    dispatch({ type: "added", id: Date.now(), text });
  }

  function toggleTask(id) {
    dispatch({ type: "toggled", id });
  }

  function deleteTask(id) {
    dispatch({ type: "deleted", id });
  }

  // ...render UI
}
```

**рж╕рзБржмрж┐ржзрж╛:**

- рж╕ржм рж▓ржЬрж┐ржХ ржПржХ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝
- ржирждрзБржи action ржпрзЛржЧ ржХрж░рж╛ рж╕рж╣ржЬ
- ржбрж┐ржмрж╛ржЧ ржУ ржЯрзЗрж╕рзНржЯ рж╕рж╣ржЬ

---

## ржЪрзНржпрж╛рж▓рзЗржЮрзНржЬ: State ржЕржирзБржорж╛ржи ржХрж░рзБржи! ЁЯПЖ

> **ржирж┐ржЬрзЗ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржи!**
>
> ржирж┐ржЪрзЗрж░ рж▓рж┐рж╕рзНржЯрзЗ `{ type: 'deleted', id: 2 }` dispatch ржХрж░рж▓рзЗ ржХрзА рж╣ржмрзЗ?
>
> ```js
> const tasks = [
>   { id: 1, text: "React рж╢рж┐ржЦрзБржи", done: false },
>   { id: 2, text: "ржбржХ рж▓рж┐ржЦрзБржи", done: true },
> ];
> ```

---

## Reducer ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ЁЯзм

- **state**: ржЯрж╛рж╕рзНржХрзЗрж░ рж▓рж┐рж╕рзНржЯ
- **action**: ржпрзЗржоржи `{ type: 'added', id: 123, text: 'React рж╢рж┐ржЦрзБржи' }`
- **return**: action ржЕржирзБржпрж╛ржпрж╝рзА ржирждрзБржи ржЯрж╛рж╕рзНржХ рж▓рж┐рж╕рзНржЯ

**ржкрзНрж░рждрж┐ржмрж╛рж░ dispatch ржХрж░рж▓рзЗ React рж░рж┐ржбрж┐ржЙрж╕рж╛рж░ ржХрж▓ ржХрж░рзЗ ржУ state ржЖржкржбрзЗржЯ ржХрж░рзЗ!**

---

## Action ржХрзА? ЁЯОм

**action** рж╣рж▓рзЛ ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯ, ржпрж╛ ржХрзА рж╣ржпрж╝рзЗржЫрзЗ рждрж╛ ржмрж▓рзЗред рж╕рж╛ржзрж╛рж░ржгржд `type` (рж╕рзНржЯрзНрж░рж┐ржВ) ржУ ржмрж╛ржбрж╝рждрж┐ рждржерзНржп ржерж╛ржХрзЗред

```js
{ type: 'added', id: 123, text: 'React рж╢рж┐ржЦрзБржи' }
{ type: 'deleted', id: 123 }
```

**ржЯрж┐ржк:** ржкрж░рж┐рж╖рзНржХрж╛рж░, ржмрж░рзНржгржирж╛ржорзВрж▓ржХ action type ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи!

---

## ржмржбрж╝ ржЕрзНржпрж╛ржкрзЗ ржХрзЗржи ржнрж╛рж▓рзЛ? ЁЯПв

- **рж╕ржм рж▓ржЬрж┐ржХ ржПржХ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝**: state ржХрзАржнрж╛ржмрзЗ ржмржжрж▓рж╛ржмрзЗ, рж╕рж╣ржЬрзЗ ржмрзЛржЭрж╛ ржпрж╛ржпрж╝
- **ржкрзВрж░рзНржмрж╛ржирзБржорж╛ржиржпрзЛржЧрзНржп**: рж╕ржм action reducer-ржП ржпрж╛ржпрж╝
- **ржЯрзЗрж╕рзНржЯрзЗржмрж▓**: reducer рж╢рзБржзрзБ ржлрж╛ржВрж╢ржи, React ржЫрж╛ржбрж╝рж╛ржЗ ржЯрзЗрж╕рзНржЯ ржХрж░рж╛ ржпрж╛ржпрж╝
- **рж╕рзНржХрзЗрж▓рзЗржмрж▓**: ржЕрзНржпрж╛ржк ржмржбрж╝ рж╣рж▓рзЗржУ ржирждрзБржи action ржпрзЛржЧ ржХрж░рж╛ рж╕рж╣ржЬ

---

## ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг: ржкрж┐ржЬрзНржЬрж╛ рж╢ржк ЁЯНХ

- **state**: ржмрж╛ржирж╛ржирзЛ ржкрж┐ржЬрзНржЬрж╛
- **action**: ржХрж╛рж╕рзНржЯржорж╛рж░рзЗрж░ ржЕрж░рзНржбрж╛рж░ (ржЪрж┐ржЬ ржпрзЛржЧ ржХрж░рзБржи)
- **reducer**: рж╢рзЗржл (ржЕрж░рзНржбрж╛рж░ ржЕржирзБржпрж╛ржпрж╝рзА ржкрж┐ржЬрзНржЬрж╛ ржЖржкржбрзЗржЯ)
- **dispatch**: ржУржпрж╝рзЗржЯрж╛рж░ (ржЕрж░рзНржбрж╛рж░ рж╢рзЗржлрзЗрж░ ржХрж╛ржЫрзЗ ржжрзЗржпрж╝)

---

## Reducer рж▓рзЗржЦрж╛рж░ ржЯрж┐ржкрж╕ ЁЯУЭ

- **reducer ржЕржмрж╢рзНржпржЗ pure function**: ржХрзЛржирзЛ рж╕рж╛ржЗржб ржЗржлрзЗржХрзНржЯ ржиржпрж╝
- **state ржбрж╛ржЗрж░рзЗржХрзНржЯрж▓рж┐ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░ржмрзЗржи ржирж╛**: ржирждрзБржи ржЕржмржЬрзЗржХрзНржЯ/ржЕрзНржпрж╛рж░рзЗ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзБржи
- **action type ржкрж░рж┐рж╖рзНржХрж╛рж░ рж░рж╛ржЦрзБржи**: ржпрзЗржоржи 'added', 'deleted', 'toggled'
- **ржкрзНрж░рждрж┐ action ржПржХржЯрж╛ржЗ ржХрж╛ржЬ ржХрж░рзБржХ**

---

## ржмрзЛржирж╛рж╕: Immer ржжрж┐ржпрж╝рзЗ рж╕рж╣ржЬ reducer ЁЯН░

Immer ржжрж┐ржпрж╝рзЗ reducer ржПржоржиржнрж╛ржмрзЗ рж▓рж┐ржЦрждрзЗ ржкрж╛рж░ржмрзЗржи, ржпрзЗржи state ржбрж╛ржЗрж░рзЗржХрзНржЯрж▓рж┐ ржмржжрж▓рж╛ржЪрзНржЫрзЗржи, ржХрж┐ржирзНрждрзБ ржнрж┐рждрж░рзЗ ржнрж┐рждрж░рзЗ ржирждрзБржи state рждрзИрж░рж┐ рж╣ржпрж╝!

```js
import { useImmerReducer } from "use-immer";

function tasksReducer(draft, action) {
  switch (action.type) {
    case "added":
      draft.push({ id: action.id, text: action.text, done: false });
      break;
    case "toggled":
      const task = draft.find((t) => t.id === action.id);
      if (task) task.done = !task.done;
      break;
    case "deleted":
      return draft.filter((t) => t.id !== action.id);
    default:
      throw new Error("Unknown action: " + action.type);
  }
}
```

---

## ржЕрзНржпрж╛ржбржнрж╛ржирзНрж╕ржб: ржХржЦржи useReducer, ржХржЦржи useState? ЁЯзСтАНЁЯОУ

- рж╕рж╣ржЬ, рж╕рзНржмрж╛ржзрзАржи state-ржП `useState`
- ржЬржЯрж┐рж▓, ржПржХрж╛ржзрж┐ржХ рж╕рж╛ржм-ржнрзНржпрж╛рж▓рзБ, ржЖржЧрзЗрж░ state-ржПрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░рж╢рзАрж▓, ржХрзЗржирзНржжрзНрж░рзАржнрзВржд ржЖржкржбрзЗржЯ, ржЯрзЗрж╕рзНржЯ/ржбрж┐ржмрж╛ржЧ ржжрж░ржХрж╛рж░тАФрждржЦржи `useReducer`

**ржкрзНрж░рзЛ ржЯрж┐ржк:** ржмржбрж╝ ржЕрзНржпрж╛ржкрзЗ ржЧрзНрж▓рзЛржмрж╛рж▓ state ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯрзЗ (ржпрзЗржоржи Redux) reducer ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред

---

## useState ржмржирж╛ржо useReducer рждрзБрж▓ржирж╛ тЪЦя╕П

`useState` ржПржмржВ `useReducer`тАФржжрзБржЯрзЛржЗ React-ржП state ржорзНржпрж╛ржирзЗржЬ ржХрж░рж╛рж░ рж╣рзБржХ, рждржмрзЗ ржПржЧрзБрж▓рзЛ ржЖрж▓рж╛ржжрж╛ ржкрж░рж┐рж╕рзНржерж┐рждрж┐рждрзЗ ржмрзЗрж╢рж┐ ржХрж╛рж░рзНржпржХрж░ред ржирж┐ржЪрзЗ рждрзБрж▓ржирж╛ ржжрзЗржЦрзБржи:

| ржжрж┐ржХ              | useState                      | useReducer                                                   |
| ---------------- | ----------------------------- | ------------------------------------------------------------ |
| **ржХрзЛржбрзЗрж░ ржкрж░рж┐ржорж╛ржг** | рж╕рж╣ржЬ state-ржП ржХржо ржХрзЛржб            | ржЬржЯрж┐рж▓ рж▓ржЬрж┐ржХрзЗ ржХрзЛржб ржмрзЗрж╢рж┐ (reducer + action), рждржмрзЗ рж░рж┐ржкрж┐ржЯ ржХржо         |
| **ржкрж╛ржаржпрзЛржЧрзНржпрждрж╛**   | рж╕рж╣ржЬ ржЖржкржбрзЗржЯрзЗ ржЦрзБржмржЗ ржкржбрж╝рждрзЗ рж╕рж╣ржЬ     | ржЬржЯрж┐рж▓ рж▓ржЬрж┐ржХрзЗ ржкрж░рж┐рж╖рзНржХрж╛рж░, "ржХрж┐ рж╣ржпрж╝рзЗржЫрзЗ" ржЖрж░ "ржХрж┐ржнрж╛ржмрзЗ ржЖржкржбрзЗржЯ рж╣ржмрзЗ" ржЖрж▓рж╛ржжрж╛ |
| **ржбрж┐ржмрж╛ржЧрж┐ржВ**      | ржЬржЯрж┐рж▓ state-ржП ржмрж╛ржЧ ржЦрзБржБржЬрждрзЗ ржХржарж┐ржи  | action рж▓ржЧ ржХрж░рж╛ рж╕рж╣ржЬ, state ржХрзЗржи ржмржжрж▓рзЗржЫрзЗ ржмрзЛржЭрж╛ ржпрж╛ржпрж╝                |
| **ржЯрзЗрж╕рзНржЯрж┐ржВ**      | state рж▓ржЬрж┐ржХ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржнрж┐рждрж░рзЗ | reducer pure function, ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ ржЯрзЗрж╕рзНржЯ ржХрж░рж╛ рж╕рж╣ржЬ               |
| **ржкржЫржирзНржж**        | рж╕рж░рж╛рж╕рж░рж┐ ржУ рж╕рж╣ржЬ                  | ржмрзЗрж╢рж┐ structure, ржХрж┐ржЫрзБржЯрж╛ boilerplate                           |

### рж╕рж╛рж░рж╛ржВрж╢

- **useState**: рж╕рж╣ржЬ, рж╕рзНржмрж╛ржзрзАржи state ржЖржкржбрзЗржЯрзЗ рж╕рзЗрж░рж╛ред
- **useReducer**: ржЬржЯрж┐рж▓ state рж▓ржЬрж┐ржХ, ржХрзЗржирзНржжрзНрж░рзАржнрзВржд ржЖржкржбрзЗржЯ, ржбрж┐ржмрж╛ржЧ/ржЯрзЗрж╕рзНржЯ рж╕рж╣ржЬ ржХрж░рждрзЗ рж╕рзЗрж░рж╛ред
- ржЪрж╛ржЗрж▓рзЗ ржПржХржЗ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ ржжрзБржЯрзЛржЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи!

ржЖрж░ржУ ржЬрж╛ржирзБржи: [React ржЕржлрж┐рж╕рж┐ржпрж╝рж╛рж▓ ржбржХ - useState ржмржирж╛ржо useReducer](https://react.dev/learn/extracting-state-logic-into-a-reducer#comparing-usestate-and-usereducer)

---

## Reducer ржнрж╛рж▓рзЛржнрж╛ржмрзЗ рж▓рзЗржЦрж╛рж░ ржирж┐ржпрж╝ржо ЁЯПЖ

ржнрж╛рж▓рзЛ reducer ржорж╛ржирзЗтАФstate рж▓ржЬрж┐ржХ ржкрзВрж░рзНржмрж╛ржирзБржорж╛ржиржпрзЛржЧрзНржп, ржорзЗржЗржиржЯрзЗржЗржирзЗржмрж▓ ржУ ржмрж╛ржЧ-ржорзБржХрзНрждред ржирж┐ржЪрзЗ рж╕рзЗрж░рж╛ ржХрж┐ржЫрзБ ржирж┐ржпрж╝ржо:

### рзз. Reducer ржЕржмрж╢рзНржпржЗ Pure Function

- ржХрзЛржирзЛ side effect ржиржпрж╝ (API ржХрж▓, timeout, random value ржиржпрж╝)
- ржПржХржЗ ржЗржиржкрзБржЯрзЗ рж╕ржмрж╕ржоржпрж╝ ржПржХржЗ ржЖржЙржЯржкрзБржЯ

### рзи. State ржХржЦржирзЛржЗ рж╕рж░рж╛рж╕рж░рж┐ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░ржмрзЗржи ржирж╛

- рж╕ржмрж╕ржоржпрж╝ ржирждрзБржи ржЕржмржЬрзЗржХрзНржЯ/ржЕрзНржпрж╛рж░рзЗ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзБржи
- ржЬржЯрж┐рж▓ ржЖржкржбрзЗржЯрзЗ spread (`...`) ржмрж╛ Immer ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи

### рзй. рж╕ржм Action ржЯрж╛ржЗржк рж╕рзНржкрж╖рзНржЯржнрж╛ржмрзЗ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рзБржи

- ржкрзНрж░рждрж┐ржЯрж┐ action-ржПрж░ ржЬржирзНржп switch/if-else ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи
- рж╕ржмрж╕ржоржпрж╝ `default` ржХрзЗрж╕рзЗ ржмрж░рзНрждржорж╛ржи state рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзБржи

### рзк. Action рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржУ ржмрж░рзНржгржирж╛ржорзВрж▓ржХ рж░рж╛ржЦрзБржи

- action ржЕржмржЬрзЗржХрзНржЯрзЗ ржкрж░рж┐рж╖рзНржХрж╛рж░ `type` ржУ рж╢рзБржзрзБ ржжрж░ржХрж╛рж░рж┐ ржбрзЗржЯрж╛ рж░рж╛ржЦрзБржи

### рзл. Reducer ржлрзЛржХрж╛рж╕ржб рж░рж╛ржЦрзБржи

- ржкрзНрж░рждрж┐ржЯрж┐ reducer ржПржХржЯрж╛ржЗ state ржмрж╛ ржШржирж┐рж╖рзНржа ржЧрзНрж░рзБржк ржорзНржпрж╛ржирзЗржЬ ржХрж░рзБржХ

---

### ржЙржжрж╛рж╣рж░ржг: ржнрж╛рж▓рзЛржнрж╛ржмрзЗ рж▓рзЗржЦрж╛ Reducer

```js
function counterReducer(state, action) {
  switch (action.type) {
    case "increment":
      return { ...state, count: state.count + 1 };
    case "decrement":
      return { ...state, count: state.count - 1 };
    case "reset":
      return { ...state, count: 0 };
    default:
      return state; // ржЕржЬрж╛ржирж╛ action-ржП ржмрж░рзНрждржорж╛ржи state ржлрзЗрж░ржд ржжрж┐ржи
  }
}

// ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ ржмрзНржпржмрж╣рж╛рж░
const initialState = { count: 0 };

function Counter() {
  const [state, dispatch] = React.useReducer(counterReducer, initialState);

  return (
    <div>
      <p>Count: {state.count}</p>
      <button onClick={() => dispatch({ type: "increment" })}>+</button>
      <button onClick={() => dispatch({ type: "decrement" })}>-</button>
      <button onClick={() => dispatch({ type: "reset" })}>Reset</button>
    </div>
  );
}
```

---

### Reducer ржнрж╛рж▓рзЛржнрж╛ржмрзЗ рж▓рзЗржЦрж╛рж░ ржЯрж┐ржкрж╕

- **ржХрзЛржирзЛ side effect ржиржпрж╝:** reducer-ржПрж░ ржнрж┐рждрж░рзЗ data fetch, log, ржмрж╛ ржмрж╛ржЗрж░рзЗрж░ ржнрзНржпрж╛рж░рж┐ржпрж╝рзЗржмрж▓ ржЖржкржбрзЗржЯ ржХрж░ржмрзЗржи ржирж╛
- **mutation ржиржпрж╝:** ржЕржмржЬрзЗржХрзНржЯ/ржЕрзНржпрж╛рж░рзЗ ржЗржи-ржкрзНрж▓рзЗрж╕ ржмржжрж▓рж╛ржмрзЗржи ржирж╛тАФржирждрзБржи рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзБржи
- **action ржмрж░рзНржгржирж╛ржорзВрж▓ржХ:** `'add_todo'`, `'remove_todo'`-ржПрж░ ржорждрзЛ ржкрж░рж┐рж╖рзНржХрж╛рж░ ржЯрж╛ржЗржк
- **state ржорж┐ржирж┐ржорж╛рж▓ рж░рж╛ржЦрзБржи:** рж╢рзБржзрзБ ржжрж░ржХрж╛рж░рж┐ ржбрзЗржЯрж╛ рж░рж╛ржЦрзБржи, ржбрзЗрж░рж╛ржЗржнржб ржбрзЗржЯрж╛ ржмрж╛ржЗрж░рзЗ рж╣рж┐рж╕рж╛ржм ржХрж░рзБржи
- **ржЯрзЗрж╕рзНржЯржпрзЛржЧрзНржп:** reducer pure рж╣рж▓рзЗ рж╕рж╣ржЬрзЗржЗ unit test ржХрж░рж╛ ржпрж╛ржпрж╝

---

ржЖрж░ржУ ржЬрж╛ржирзБржи: [React ржЕржлрж┐рж╕рж┐ржпрж╝рж╛рж▓ ржбржХ: Reducer ржнрж╛рж▓рзЛржнрж╛ржмрзЗ рж▓рзЗржЦрж╛](https://react.dev/learn/extracting-state-logic-into-a-reducer#writing-reducers-well)

---

## ржмрж╛рж╕рзНрждржм ржмрзНржпржмрж╣рж╛рж░ ЁЯМН

- **ржЕржирзЗржХ ржлрж┐рж▓рзНржбрзЗрж░ ржлрж░рзНржо** (ржпрзЗржоржи рж╕рж╛ржЗржи-ржЖржк ржлрж░рзНржо)
- **undo/redo ржлрж┐ржЪрж╛рж░**
- **ржЬржЯрж┐рж▓ UI state** (ржпрзЗржоржи ржЯрзНржпрж╛ржм, ржоржбрж╛рж▓, ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи)
- **ржЧрзНрж▓рзЛржмрж╛рж▓ state ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ** (ржпрзЗржоржи Redux)

---

## FAQ: рж╕рж╛ржзрж╛рж░ржг ржкрзНрж░рж╢рзНржи ржУ рж╕ржорж╕рзНржпрж╛ тЭУ

**Q: рж░рж┐ржбрж┐ржЙрж╕рж╛рж░рзЗ async ржХрзЛржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗ?**

> ржирж╛! reducer ржЕржмрж╢рзНржпржЗ pure functionред async ржХрж╛ржЬ ржмрж╛ржЗрж░рзЗ ржХрж░рзЗ, рж╢рзЗрж╖рзЗ action dispatch ржХрж░рзБржиред

**Q: ржнрзБрж▓ ржХрж░рзЗ state ржорж┐ржЙржЯрзЗржЯ ржХрж░рж▓рзЗ ржХрзА рж╣ржмрзЗ?**

> ржЕржжрзНржнрзБржд ржмрж╛ржЧ ржЖрж╕рждрзЗ ржкрж╛рж░рзЗ! рж╕ржмрж╕ржоржпрж╝ ржирждрзБржи ржЕржмржЬрзЗржХрзНржЯ/ржЕрзНржпрж╛рж░рзЗ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзБржиред

**Q: useState ржУ useReducer ржПржХрж╕рж╛ржерзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗ?**

> рж╣рзНржпрж╛ржБ! ржпрзЗржЯрж╛ ржХрзЛржб ржкрж░рж┐рж╖рзНржХрж╛рж░ ржХрж░рзЗ, рж╕рзЗржЯрж╛ржЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред

**Q: useReducer рж╢рзБржзрзБ ржмржбрж╝ ржЕрзНржпрж╛ржкрзЗрж░ ржЬржирзНржп?**

> ржирж╛, рждржмрзЗ ржЬржЯрж┐рж▓/рж╕ржорзНржкрж░рзНржХрж┐ржд state-ржП ржмрзЗрж╢рж┐ рж╕рзБржмрж┐ржзрж╛ред

## ржкрж░ржмрж░рзНрждрзА ржзрж╛ржк ржУ рж░рж┐рж╕рзЛрж░рзНрж╕ ЁЯУЪ

- ржирж┐ржЬрзЗ reducer ржжрж┐ржпрж╝рзЗ ржЯрзБ-ржбрзБ ржЕрзНржпрж╛ржк ржмрж╛ржирж╛ржи!
- [React-ржПрж░ ржЕржлрж┐рж╕рж┐ржпрж╝рж╛рж▓ ржбржХ](https://react.dev/learn/extracting-state-logic-into-a-reducer#consolidate-state-logic-with-a-reducer) ржжрзЗржЦрзБржи
- [ржПржЗ CodeSandbox ржЙржжрж╛рж╣рж░ржг](https://codesandbox.io/s/react-usereducer-todo-example-6v6wz) ржирж┐ржпрж╝рзЗ ржЦрзЗрж▓рзБржи
- [Reactiflux Discord](https://www.reactiflux.com/) ржП ржкрзНрж░рж╢рзНржи ржХрж░рзБржи!

рж╢рзБржн ржХрзЛржбрж┐ржВ! ЁЯОЙЁЯСйтАНЁЯТ╗ЁЯСитАНЁЯТ╗
