# React ржП ржПржХржЗ ржкржЬрж┐рж╢ржирзЗ рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ ржХрж░рж╛ ЁЯФД

ржХржЦржиржУ ржХржЦржиржУ, UI ржЯрзНрж░рж┐рждрзЗ ржПржХржЗ ржкржЬрж┐рж╢ржирзЗ ржерж╛ржХрж╛ рж╕рждрзНрждрзНржмрзЗржУ ржПржХржЯрж┐ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ ржХрж░рждрзЗ ржЪрж╛ржЗржмрзЗржиред ржЪрж▓рзБржи ржжрзЗржЦрж┐ React ржХрж┐ржнрж╛ржмрзЗ ржПржЯрж┐ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рзЗ ржПржмржВ ржЖржкржирж┐ ржХрж┐ржнрж╛ржмрзЗ рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗржи! ЁЯзатЬи

---

## React ржХржЦржи ржПржХржЗ ржкржЬрж┐рж╢ржирзЗ рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ ржХрж░рзЗ? ЁЯдФ

React рж╕рж╛ржзрж╛рж░ржгржд ржПржХржЯрж┐ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ рж╕рзНржЯрзЗржЯ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ ржпрждржХрзНрж╖ржг ржПржЯрж┐ ржЯрзНрж░рж┐рждрзЗ ржПржХржЗ ржкржЬрж┐рж╢ржирзЗ рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ред ржХрж┐ржирзНрждрзБ ржПржХржЗ ржкржЬрж┐рж╢ржирзЗ рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ ржХрж░рж╛рж░ ржжрзБржЯрж┐ ржкрзНрж░ржзрж╛ржи ржЙржкрж╛ржпрж╝ ржЖржЫрзЗ:

1. **ржХржорзНржкрзЛржирзЗржирзНржЯ ржЯрж╛ржЗржк ржкрж░рж┐ржмрж░рзНрждржи** ржХрж░рж╛ (ржпрзЗржоржи, `<CounterA />` ржХрзЗ `<CounterB />` ржжрж┐ржпрж╝рзЗ ржкрзНрж░рждрж┐рж╕рзНржерж╛ржкржи ржХрж░рж╛)ред
2. **`key` ржкрзНрж░ржк ржкрж░рж┐ржмрж░рзНрждржи** ржХрж░рж╛ред

---

## 1я╕ПтГг ржХржорзНржкрзЛржирзЗржирзНржЯ ржЯрж╛ржЗржк ржкрж░рж┐ржмрж░рзНрждржи

ржпржжрж┐ ржЖржкржирж┐ ржПржХржЗ ржкржЬрж┐рж╢ржирзЗ ржПржХржЯрж┐ ржнрж┐ржирзНржи ржХржорзНржкрзЛржирзЗржирзНржЯ рж░рзЗржирзНржбрж╛рж░ ржХрж░рзЗржи, React ржкрзБрж░рж╛ржирзЛ ржХржорзНржкрзЛржирзЗржирзНржЯ (ржПржмржВ ржПрж░ рж╕рзНржЯрзЗржЯ) ржзрзНржмржВрж╕ ржХрж░рзЗ ржирждрзБржи ржПржХржЯрж┐ рждрзИрж░рж┐ ржХрж░ржмрзЗред

### ржЙржжрж╛рж╣рж░ржг:

```jsx
function App() {
  const [showA, setShowA] = useState(true);
  return (
    <div>
      {showA ? <CounterA /> : <CounterB />}
      <button onClick={() => setShowA(!showA)}>Swap</button>
    </div>
  );
}
```

- ржпржЦржи ржЖржкржирж┐ `CounterA` ржерзЗржХрзЗ `CounterB` рждрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░ржмрзЗржи, рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ рж╣ржмрзЗ ржХрж╛рж░ржг рждрж╛рж░рж╛ ржнрж┐ржирзНржи ржХржорзНржкрзЛржирзЗржирзНржЯред

---

## 2я╕ПтГг `key` ржкрзНрж░ржк ржкрж░рж┐ржмрж░рзНрждржи ЁЯФС

React рж▓рж┐рж╕рзНржЯрзЗ ржХрзЛржи ржХржорзНржкрзЛржирзЗржирзНржЯ ржХрзЛржиржЯрж┐ рждрж╛ ржЯрзНрж░рзНржпрж╛ржХ рж░рж╛ржЦрждрзЗ `key` ржкрзНрж░ржк ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред ржпржжрж┐ ржЖржкржирж┐ key ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗржи, React ржПржЯрж┐ржХрзЗ ржПржХржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг ржирждрзБржи ржХржорзНржкрзЛржирзЗржирзНржЯ рж╣рж┐рж╕рзЗржмрзЗ ржмрж┐ржмрзЗржЪржирж╛ ржХрж░ржмрзЗ ржПржмржВ ржПрж░ рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ ржХрж░ржмрзЗред

### ржЙржжрж╛рж╣рж░ржг:

```jsx
function App() {
  const [player, setPlayer] = useState('Taylor');
  return (
    <div>
      <Counter key={player} player={player} />
      <button onClick={() => setPlayer(player === 'Taylor' ? 'Sarah' : 'Taylor')}>Next player!</button>
    </div>
  );
}

function Counter({ player }) {
  const [score, setScore] = useState(0);
  return (
    <div>
      <h1>{player}'s score: {score}</h1>
      <button onClick={() => setScore(score + 1)}>Add one</button>
    </div>
  );
}
```

- ржкрзНрж▓рзЗржпрж╝рж╛рж░ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж▓рзЗ key ржкрж░рж┐ржмрж░рзНрждржи рж╣ржпрж╝, рждрж╛ржЗ ржирждрзБржи ржкрзНрж▓рзЗржпрж╝рж╛рж░рзЗрж░ ржЬржирзНржп рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ рж╣ржпрж╝ред

---

## ржнрж┐ржЬрзНржпрзБржпрж╝рж╛рж▓ ржбрж╛ржпрж╝рж╛ржЧрзНрж░рж╛ржо ЁЯЦ╝я╕П

![React key reset diagram](https://react.dev/images/docs/diagrams/state-key-reset.png)

*ржЫржмрж┐рж░ ржХрзНрж░рзЗржбрж┐ржЯ: [React Official Docs](https://react.dev/learn/preserving-and-resetting-state#resetting-state-at-the-same-position)*

---

## ржХрзЗржи ржЖржкржирж┐ рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ ржХрж░рждрзЗ ржЪрж╛ржЗржмрзЗржи? ЁЯТб

- ржмрж┐ржнрж┐ржирзНржи ржЗржЙржЬрж╛рж░ ржмрж╛ ржЖржЗржЯрзЗржорзЗрж░ ржоржзрзНржпрзЗ рж╕рзНржпрзБржЗржЪ ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржлрж░рзНржо ржХрзНрж▓рж┐ржпрж╝рж╛рж░ ржХрж░рждрзЗред
- ржЧрзЗржо ржмрж╛ ржЯрж╛ржЗржорж╛рж░ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ ржХрж░рж╛рж░ рж╕ржоржпрж╝ рж░рж┐рж╕рзЗржЯ ржХрж░рждрзЗред
- ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ ржпрзЗ ржкрзВрж░рзНржмржмрж░рзНрждрзА ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржХрзЛржи рж╕рзНржЯрзЗржЯ ржЕржмрж╢рж┐рж╖рзНржЯ ржирзЗржЗред

---

## рж╕рж╛ржзрж╛рж░ржг рж╕ржорж╕рзНржпрж╛ ржПржмржВ рж╕рзЗрж░рж╛ ржЕржирзБрж╢рзАрж▓ржи тЪая╕ПтЬЕ

- **ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ржнрж╛ржмрзЗ key ржкрж░рж┐ржмрж░рзНрждржи ржХрж░ржмрзЗржи ржирж╛**тАФрж╢рзБржзрзБржорж╛рждрзНрж░ ржпржЦржи рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ ржХрж░рждрзЗ ржЪрж╛ржи рждржЦржиржЗ ржХрж░рзБржиред
- **ржЕржирзНржп ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржнрж┐рждрж░рзЗ ржХржорзНржкрзЛржирзЗржирзНржЯ ржбрзЗржлрж┐ржирж┐рж╢ржи ржирзЗрж╕рзНржЯ ржХрж░ржмрзЗржи ржирж╛** ржпржжрж┐ ржирж╛ ржЖржкржирж┐ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржирзНржбрж╛рж░рзЗ рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ ржХрж░рждрзЗ ржЪрж╛ржиред
- **рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ ржлрзЛрж░рзНрж╕ ржХрж░рж╛рж░ ржЬржирзНржп key ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи ржирж╛** (ржпржжрж┐ ржирж╛ рж╕рждрзНржпрж┐ржЗ рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ ржХрж░рж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝)ред

---

## рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк ЁЯУЭ

- React ржПржХржЗ ржкржЬрж┐рж╢ржирзЗ ржПржХржЗ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ рж╕рзНржЯрзЗржЯ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗред
- ржПржХржЗ ржкржЬрж┐рж╢ржирзЗ ржХржорзНржкрзЛржирзЗржирзНржЯ ржЯрж╛ржЗржк ржмрж╛ `key` ржкрзНрж░ржк ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж▓рзЗ рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ рж╣ржмрзЗред
- ржпржЦржи ржЖржкржирж┐ ржПржХржЯрж┐ ржирждрзБржи рж╕рзНржЯрзЗржЯ ржЪрж╛ржи рждржЦржи ржПржЗ ржлрж┐ржЪрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред

---

## ржирж┐ржЬрзЗржХрзЗ ржЪрзНржпрж╛рж▓рзЗржЮрзНржЬ ржХрж░рзБржи! ЁЯТб

ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржи: ржмрж┐ржнрж┐ржирзНржи ржЗржЙржЬрж╛рж░рзЗрж░ ржоржзрзНржпрзЗ рж╕рзНржпрзБржЗржЪ ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржХрж┐ржнрж╛ржмрзЗ ржПржХржЯрж┐ ржлрж░рзНржорзЗрж░ рж╕рзНржЯрзЗржЯ рж░рж┐рж╕рзЗржЯ ржХрж░ржмрзЗржи?

**ржЗржЩрзНржЧрж┐ржд:** ржЗржЙржЬрж╛рж░рзЗрж░ ID ржнрж┐рждрзНрждрж┐ржХ ржлрж░рзНржорзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЕржиржирзНржп `key` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи!

```jsx
function App() {
  const [userId, setUserId] = useState(1);
  return (
    <div>
      <UserForm key={userId} userId={userId} />
      <button onClick={() => setUserId(userId === 1 ? 2 : 1)}>
        Switch User
      </button>
    </div>
  );
}
```

---

## ржЖрж░ржУ ржкржбрж╝рзБржи ЁЯУЪ
- [React Docs: Resetting State at the Same Position](https://react.dev/learn/preserving-and-resetting-state#resetting-state-at-the-same-position)
- [React Docs: Preserving and Resetting State](https://react.dev/learn/preserving-and-resetting-state)

рж╣рзНржпрж╛ржкрж┐ ржХрзЛржбрж┐ржВ! ЁЯОЙ
