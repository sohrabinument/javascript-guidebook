# React-ржП State рж╕ржВрж░ржХрзНрж╖ржг ржУ рж░рж┐рж╕рзЗржЯ ЁЯзаЁЯФД

React ржЕрзНржпрж╛ржк ржмрж╛ржирж╛ржирзЛрж░ рж╕ржоржпрж╝, **ржХржЦржи state рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХржмрзЗ ржЖрж░ ржХржЦржи рж░рж┐рж╕рзЗржЯ рж╣ржмрзЗ**тАФржПржЯрж╛ ржмрзЛржЭрж╛ ржЦрзБржмржЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг, ржпрж╛рждрзЗ ржЖржкржирж╛рж░ UI ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп ржУ ржмрж╛ржЧржорзБржХрзНржд рж╣ржпрж╝ред ржЪрж▓рзБржи рж╕рж╣ржЬ ржнрж╛рж╖рж╛ржпрж╝, ржЪрж┐рждрзНрж░, ржХрзЛржб ржУ ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг ржжрж┐ржпрж╝рзЗ ржмрж┐рж╖ржпрж╝ржЯрж┐ ржмрзБржЭрзЗ ржирзЗржЗ! ЁЯЪж

---

## State ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ Tree-рж░ ржЕржмрж╕рзНржерж╛ржирзЗрж░ рж╕рж╛ржерзЗ ржпрзБржХрзНржд ЁЯМ│

React-ржП **state JSX ржмрж╛ ржХржорзНржкрзЛржирзЗржирзНржЯ ржлрж╛ржВрж╢ржирзЗрж░ ржоржзрзНржпрзЗ ржерж╛ржХрзЗ ржирж╛, ржмрж░ржВ UI tree-рждрзЗ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржЕржмрж╕рзНржерж╛ржирзЗрж░ рж╕рж╛ржерзЗ ржпрзБржХрзНржд ржерж╛ржХрзЗ**ред ржПрж░ ржорж╛ржирзЗ:

- ржЖржкржирж┐ ржпржжрж┐ ржПржХржЗ ржХржорзНржкрзЛржирзЗржирзНржЯ ржжрзБржЗ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ рж░рзЗржирзНржбрж╛рж░ ржХрж░рзЗржи, ржкрзНрж░рждрж┐ржЯрж┐ржЗ ржЖрж▓рж╛ржжрж╛ state ржкрж╛ржмрзЗред
- ржЖржкржирж┐ ржпржжрж┐ ржХрзЛржирзЛ ржХржорзНржкрзЛржирзЗржирзНржЯ tree ржерзЗржХрзЗ рж╕рж░рж╛ржи, рждрж╛рж░ state ржирж╖рзНржЯ рж╣ржпрж╝рзЗ ржпрж╛ржмрзЗред
- ржЖржмрж╛рж░ ржпрзЛржЧ ржХрж░рж▓рзЗ, state ржирждрзБржиржнрж╛ржмрзЗ рж╢рзБрж░рзБ рж╣ржмрзЗред

### ржЙржжрж╛рж╣рж░ржг: ржжрзБржЗржЯрж┐ Counter

```jsx
function App() {
  return (
    <div>
      <Counter />
      <Counter />
    </div>
  );
}

function Counter() {
  const [score, setScore] = useState(0);
  return (
    <div>
      <h1>{score}</h1>
      <button onClick={() => setScore(score + 1)}>Add one</button>
    </div>
  );
}
```

ржкрзНрж░рждрж┐ржЯрж┐ `<Counter />` tree-рж░ ржЖрж▓рж╛ржжрж╛ ржЕржмрж╕рзНржерж╛ржирзЗ рж░рзЗржирзНржбрж╛рж░ рж╣ржпрж╝, рждрж╛ржЗ ржкрзНрж░рждрж┐ржЯрж┐рж░ state ржЖрж▓рж╛ржжрж╛! ЁЯзй

---

## State рж╕ржВрж░ржХрзНрж╖ржг: ржПржХржЗ ржХржорзНржкрзЛржирзЗржирзНржЯ, ржПржХржЗ ржЕржмрж╕рзНржерж╛ржи ЁЯЫбя╕П

React **state рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ** ржпрждржХрзНрж╖ржг ржЖржкржирж┐ ржПржХржЗ ржХржорзНржкрзЛржирзЗржирзНржЯ tree-рж░ ржПржХржЗ ржЕржмрж╕рзНржерж╛ржирзЗ рж░рзЗржирзНржбрж╛рж░ ржХрж░рзЗржиред ржпрзЗржоржи:

```jsx
function App() {
  const [showB, setShowB] = useState(true);
  return (
    <div>
      <Counter />
      {showB && <Counter />} 
      <label>
        <input
          type="checkbox"
          checked={showB}
          onChange={e => setShowB(e.target.checked)}
        />
        Render the second counter
      </label>
    </div>
  );
}
```

- ржЪрзЗржХржмржХрзНрж╕ ржЖржиржЪрзЗржХ ржХрж░рж▓рзЗ ржжрзНржмрж┐рждрзАржпрж╝ counter ржЪрж▓рзЗ ржпрж╛ржпрж╝, рждрж╛рж░ state рж╣рж╛рж░рж┐ржпрж╝рзЗ ржпрж╛ржпрж╝ред
- ржЖржмрж╛рж░ ржЪрзЗржХ ржХрж░рж▓рзЗ ржирждрзБржи (ржлрзНрж░рзЗрж╢) state-рж╕рж╣ counter ржЖрж╕рзЗред

---

## State рж░рж┐рж╕рзЗржЯ: ржХржорзНржкрзЛржирзЗржирзНржЯ рж╕рж░рж╛ржирзЛ ржмрж╛ ржмржжрж▓рж╛ржирзЛ ЁЯТе

- **ржХржорзНржкрзЛржирзЗржирзНржЯ рж╕рж░рж╛рж▓рзЗ** рждрж╛рж░ state ржирж╖рзНржЯ рж╣ржпрж╝ред
- **ржЖржмрж╛рж░ ржпрзЛржЧ ржХрж░рж▓рзЗ** state ржирждрзБржиржнрж╛ржмрзЗ рж╢рзБрж░рзБ рж╣ржпрж╝ред
- **ржХржорзНржкрзЛржирзЗржирзНржЯ ржмржжрж▓рж╛рж▓рзЗ** (ржпрзЗржоржи, ржПржХржЗ рж╕рзНржерж╛ржирзЗ ржПржХ ржзрж░ржирзЗрж░ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржмржжрж▓рзЗ ржЕржирзНржпржЯрж┐ ржжрж┐рж▓рзЗ) state рж░рж┐рж╕рзЗржЯ рж╣ржпрж╝ред

### ржЙржжрж╛рж╣рж░ржг: ржХржорзНржкрзЛржирзЗржирзНржЯ ржмржжрж▓рж╛ржирзЛ

```jsx
function App() {
  const [showA, setShowA] = useState(true);
  return (
    <div>
      {showA ? <CounterA /> : <CounterB />}
      <button onClick={() => setShowA(!showA)}>Swap</button>
    </div>
  );
}
```

- ржпржЦржи `CounterA` ржерзЗржХрзЗ `CounterB`-рждрзЗ ржпрж╛ржи, state рж░рж┐рж╕рзЗржЯ рж╣ржпрж╝ ржХрж╛рж░ржг рждрж╛рж░рж╛ ржЖрж▓рж╛ржжрж╛ ржХржорзНржкрзЛржирзЗржирзНржЯред

---

## Key ржХрж┐ржнрж╛ржмрзЗ state-ржП ржкрзНрж░ржнрж╛ржм ржлрзЗрж▓рзЗ ЁЯФС

React **key** prop ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ list ржмрж╛ conditionally рж░рзЗржирзНржбрж╛рж░ ржХржорзНржкрзЛржирзЗржирзНржЯ ржЖрж▓рж╛ржжрж╛ ржХрж░рждрзЗред key ржмржжрж▓рж╛рж▓рзЗ state рж░рж┐рж╕рзЗржЯ рж╣ржпрж╝ред

### ржЙржжрж╛рж╣рж░ржг: Key ржжрж┐ржпрж╝рзЗ state рж░рж┐рж╕рзЗржЯ

```jsx
function App() {
  const [player, setPlayer] = useState('Taylor');
  return (
    <div>
      <Counter key={player} player={player} />
      <button onClick={() => setPlayer(player === 'Taylor' ? 'Sarah' : 'Taylor')}>Next player!</button>
    </div>
  );
}

function Counter({ player }) {
  const [score, setScore] = useState(0);
  return (
    <div>
      <h1>{player}'s score: {score}</h1>
      <button onClick={() => setScore(score + 1)}>Add one</button>
    </div>
  );
}
```

- player ржмржжрж▓рж╛рж▓рзЗ key ржмржжрж▓рж╛ржпрж╝, рждрж╛ржЗ state рж░рж┐рж╕рзЗржЯ рж╣ржпрж╝ред

---

## рж╕рж╛ржзрж╛рж░ржг ржнрзБрж▓ ржУ рж╕рзЗрж░рж╛ ржЪрж░рзНржЪрж╛ тЪая╕ПтЬЕ

- **ржЕржирзНржп ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржнрж┐рждрж░рзЗ ржХржорзНржкрзЛржирзЗржирзНржЯ ржбрж┐ржлрж╛ржЗржи ржХрж░ржмрзЗржи ржирж╛** ржпржжрж┐ ржирж╛ ржЪрж╛ржи state ржкрзНрж░рждрж┐ рж░рзЗржирзНржбрж╛рж░рзЗ рж░рж┐рж╕рзЗржЯ рж╣рзЛржХред
- **key ржмрзБржЭрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи**: рж╢рзБржзрзБ state рж░рж┐рж╕рзЗржЯ ржХрж░рждрзЗ ржЪрж╛ржЗрж▓рзЗ key ржмржжрж▓рж╛ржиред
- **state ржЧрзНрж▓рзЛржмрж╛рж▓ ржиржпрж╝**: ржкрзНрж░рждрж┐ржЯрж┐ ржХржорзНржкрзЛржирзЗржирзНржЯ instance-ржПрж░ state tree-рж░ ржЕржмрж╕рзНржерж╛ржирзЗрж░ рж╕рж╛ржерзЗ ржпрзБржХрзНрждред

---

## рж╕ржВржХрзНрж╖рзЗржкрзЗ ЁЯУЭ

- ржПржХржЗ ржХржорзНржкрзЛржирзЗржирзНржЯ tree-рж░ ржПржХржЗ ржЕржмрж╕рзНржерж╛ржирзЗ ржерж╛ржХрж▓рзЗ state рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХрзЗред
- ржХржорзНржкрзЛржирзЗржирзНржЯ рж╕рж░рж╛ржирзЛ ржмрж╛ ржмржжрж▓рж╛рж▓рзЗ state рж░рж┐рж╕рзЗржЯ рж╣ржпрж╝ред
- key ржжрж┐ржпрж╝рзЗ React-ржХрзЗ state рж░рж┐рж╕рзЗржЯ ржХрж░рж╛рждрзЗ ржкрж╛рж░рзЗржиред
- ржкрзНрж░рждрж┐ржЯрж┐ ржХржорзНржкрзЛржирзЗржирзНржЯ instance-ржПрж░ state ржЖрж▓рж╛ржжрж╛ред

---

## ржирж┐ржЬрзЗржХрзЗ ржЪрзНржпрж╛рж▓рзЗржЮрзНржЬ ржХрж░рзБржи! ЁЯТб

ржПржЯрж┐ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржи: ржирж┐ржЪрзЗрж░ ржЙржжрж╛рж╣рж░ржгрзЗ show/hide hint ржХрж░рж▓рзЗ input-ржПрж░ рж▓рзЗржЦрж╛ ржХрзЗржи рж╣рж╛рж░рж┐ржпрж╝рзЗ ржпрж╛ржпрж╝? ржХрж┐ржнрж╛ржмрзЗ ржарж┐ржХ ржХрж░ржмрзЗржи?

```jsx
function App() {
  const [showHint, setShowHint] = useState(false);
  if (showHint) {
    return (
      <div>
        <p><i>Hint: Your favorite city?</i></p>
        <Form />
        <button onClick={() => setShowHint(false)}>Hide hint</button>
      </div>
    );
  }
  return (
    <div>
      <Form />
      <button onClick={() => setShowHint(true)}>Show hint</button>
    </div>
  );
}

function Form() {
  const [text, setText] = useState('');
  return (
    <textarea
      value={text}
      onChange={e => setText(e.target.value)}
    />
  );
}
```

**ржЗржЩрзНржЧрж┐ржд:** `<Form />` tree-рж░ ржЖрж▓рж╛ржжрж╛ ржЕржмрж╕рзНржерж╛ржирзЗ рж░рзЗржирзНржбрж╛рж░ рж╣рж▓рзЗ state рж░рж┐рж╕рзЗржЯ рж╣ржпрж╝ред рж╕ржорж╛ржзрж╛ржи: рж╕ржмрж╕ржоржпрж╝ `<Form />` ржПржХржЗ ржЕржмрж╕рзНржерж╛ржирзЗ рж░рзЗржирзНржбрж╛рж░ ржХрж░рзБржи, рж╢рзБржзрзБ hint ржЯрзЗржХрзНрж╕ржЯ conditionally ржжрзЗржЦрж╛ржиред

---

## ржЖрж░ржУ ржкржбрж╝рзБржи ЁЯУЪ
- [React Docs: Preserving and Resetting State](https://react.dev/learn/preserving-and-resetting-state)
- [React Docs: Sharing State Between Components](https://react.dev/learn/sharing-state-between-components)

рж╢рзБржн ржХрзЛржбрж┐ржВ! ЁЯОЙ
