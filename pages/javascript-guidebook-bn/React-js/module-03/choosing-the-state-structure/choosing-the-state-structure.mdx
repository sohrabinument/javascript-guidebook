# ЁЯПЧя╕П React-ржП рж╕рзНржЯрзЗржЯ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ ржмрж╛ржЫрж╛ржЗ ржХрж░рж╛

## ржкрж░рж┐ржЪрж┐рждрж┐

рж╕рзНржЯрзЗржЯ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржЧржаржи ржХрж░рж▓рзЗ ржЖржкржирж╛рж░ React ржХржорзНржкрзЛржирзЗржирзНржЯ рждрзИрж░рж┐, ржбрж┐ржмрж╛ржЧ ржУ ржорзЗржЗржиржЯрзЗржи ржХрж░рж╛ ржЕржирзЗржХ рж╕рж╣ржЬ рж╣ржпрж╝! ржЪрж▓рзБржи рж╢рж┐ржЦрзЗ ржирзЗржЗ, ржХрж┐ржнрж╛ржмрзЗ ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкрзЗрж░ ржЬржирзНржп рж╕рзЗрж░рж╛ state structure ржмрж╛ржЫрж╛ржЗ ржХрж░ржмрзЗржиред ЁЯЪА

---

## ЁЯМ▒ рж╕рзНржЯрзЗржЯ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░рзЗрж░ ржорзВрж▓ржирзАрждрж┐

ржпржЦржи ржЖржкржирж┐ ржХрзЛржирзЛ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ state рж░рж╛ржЦрзЗржи, рждржЦржи ржЖржкржирж╛ржХрзЗ ржарж┐ржХ ржХрж░рждрзЗ рж╣ржпрж╝:
- ржХрждржЧрзБрж▓рзЛ state variable рж▓рж╛ржЧржмрзЗ?
- рждрж╛ржжрзЗрж░ ржбрзЗржЯрж╛рж░ ржЧржаржи ржХрзЗржоржи рж╣ржмрзЗ?

ржПржЦрж╛ржирзЗ ржХрж┐ржЫрзБ рж╕рзЛржирж╛рж▓рзА ржирж┐ржпрж╝ржо:

1. **ЁЯзй рж╕ржорзНржкрж░рзНржХрж┐ржд state ржПржХрж╕рж╛ржерзЗ рж░рж╛ржЦрзБржиред**
2. **ЁЯЪл рж╕рзНржЯрзЗржЯрзЗ ржмрж┐рж░рзЛржз ржПржбрж╝рж╛ржиред**
3. **ЁЯФД ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ state ржПржбрж╝рж╛ржиред**
4. **ЁЯУж ржбрзБржкрзНрж▓рж┐ржХрзЗржЯ state ржПржбрж╝рж╛ржиред**
5. **ЁЯМ│ ржмрзЗрж╢рж┐ nested state ржПржбрж╝рж╛ржиред**

ржЪрж▓рзБржи, ржкрзНрж░рждрж┐ржЯрж┐ ржирж┐ржпрж╝ржо ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржжрзЗржЦрж┐, ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржЙржжрж╛рж╣рж░ржгрж╕рж╣!

---

## ЁЯзй рзз. рж╕ржорзНржкрж░рзНржХрж┐ржд state ржПржХрж╕рж╛ржерзЗ рж░рж╛ржЦрзБржи

ржпржжрж┐ ржЖржкржирж┐ рж╕ржмрж╕ржоржпрж╝ ржПржХрж╕рж╛ржерзЗ ржжрзБржЗ ржмрж╛ рждрж╛рж░ ржмрзЗрж╢рж┐ state variable ржЖржкржбрзЗржЯ ржХрж░рзЗржи, рждрж╛рж╣рж▓рзЗ рж╕рзЗржЧрзБрж▓рзЛржХрзЗ ржПржХрж╕рж╛ржерзЗ ржПржХржЯрж┐ object-ржП рж░рж╛ржЦрзБржиред ржПрждрзЗ ржбрзЗржЯрж╛ рж╕рж┐ржЩрзНржХ ржерж╛ржХрзЗ ржПржмржВ ржХрзЛржб ржкрж░рж┐рж╖рзНржХрж╛рж░ рж╣ржпрж╝!

**ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:**
> ржзрж░рзБржи, ржЖржкржирж┐ ржЧрзЗржорзЗ ржПржХржЬржи ржкрзНрж▓рзЗржпрж╝рж╛рж░рзЗрж░ position ржЯрзНрж░рзНржпрж╛ржХ ржХрж░ржЫрзЗржиред ржкрзНрж▓рзЗржпрж╝рж╛рж░ ржорзБржн ржХрж░рж▓рзЗ рж╕ржмрж╕ржоржпрж╝ x ржУ y ржЖржкржбрзЗржЯ рж╣ржпрж╝ред ржПржХрж╕рж╛ржерзЗ рж░рж╛ржЦрж╛ржЗ рж╕рж╣ржЬ!

**ржнрзБрж▓ ржЙржжрж╛рж╣рж░ржг (ржЖрж▓рж╛ржжрж╛ state):**
```js
const [x, setX] = useState(0);
const [y, setY] = useState(0);

function movePlayer(newX, newY) {
  setX(newX);
  setY(newY);
}
```
ржПржХржЯрж┐ ржнрзБрж▓рзЗ ржЧрзЗрж▓рзЗ state mismatch рж╣рждрзЗ ржкрж╛рж░рзЗ! ЁЯШм

**ржнрж╛рж▓рзЛ ржЙржжрж╛рж╣рж░ржг (ржПржХрж╕рж╛ржерзЗ state):**
```js
const [position, setPosition] = useState({ x: 0, y: 0 });

function movePlayer(newX, newY) {
  setPosition({ x: newX, y: newY });
}
```
ржПржмрж╛рж░ рж╕ржмрж╕ржоржпрж╝ ржПржХрж╕рж╛ржерзЗ ржЖржкржбрзЗржЯ рж╣ржмрзЗред ржЕржирзЗржХ ржмрзЗрж╢рж┐ ржирж┐рж░рж╛ржкржж! ЁЯЫбя╕П

---

## ЁЯЪл рзи. рж╕рзНржЯрзЗржЯрзЗ ржмрж┐рж░рзЛржз ржПржбрж╝рж╛ржи

ржЖржкржирж╛рж░ state variable-ржЧрзБрж▓рзЛ ржпрзЗржи ржПржХрзЗ ржЕржкрж░рзЗрж░ рж╕рж╛ржерзЗ "ржмрж┐рж░рзЛржзрзА" ржирж╛ рж╣ржпрж╝! ржмрж┐рж░рзЛржзрзА state ржерж╛ржХрж▓рзЗ ржЦрзБржБржЬрзЗ ржкрж╛ржУржпрж╝рж╛ ржХржарж┐ржи ржмрж╛ржЧ рж╣рждрзЗ ржкрж╛рж░рзЗред

**ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:**
> ржХрж╛рж░рзЛ ржЬржирзНржо рж╕рж╛рж▓ ржУ ржмрж░рзНрждржорж╛ржи рж╕рж╛рж▓ ржЬрж╛ржирж▓рзЗ, ржмржпрж╝рж╕ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ рж░рж╛ржЦрж╛рж░ ржжрж░ржХрж╛рж░ ржирзЗржЗтАФрж╣рж┐рж╕рж╛ржм ржХрж░рж▓рзЗржЗ рж╣ржпрж╝! ЁЯОВ

**ржнрзБрж▓ ржЙржжрж╛рж╣рж░ржг:**
```js
const [age, setAge] = useState(currentYear - birthYear); // ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝!
```

**ржнрж╛рж▓рзЛ ржЙржжрж╛рж╣рж░ржг:**
```js
const age = currentYear - birthYear; // ржпржЦржи ржжрж░ржХрж╛рж░, рждржЦржи рж╣рж┐рж╕рж╛ржм ржХрж░рзБржи
```

**ржЖрж░рзЗржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг:**
```js
const [firstName, setFirstName] = useState('Ada');
const [lastName, setLastName] = useState('Lovelace');
// тЭМ fullName ржЖрж▓рж╛ржжрж╛ state-ржП рж░рж╛ржЦржмрзЗржи ржирж╛
const fullName = firstName + ' ' + lastName; // тЬЕ рж╢рзБржзрзБ рж╣рж┐рж╕рж╛ржм ржХрж░рзБржи
```

---

## ЁЯФД рзй. ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ state ржПржбрж╝рж╛ржи

ржпржжрж┐ ржХрзЛржирзЛ рждржерзНржп props ржмрж╛ ржЕржирзНржп state ржерзЗржХрзЗ рж╣рж┐рж╕рж╛ржм ржХрж░рж╛ ржпрж╛ржпрж╝, рждрж╛рж╣рж▓рзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ рж╕рзЗржЯрж┐ state-ржП рж░рж╛ржЦржмрзЗржи ржирж╛! ржПрждрзЗ mismatch ржУ ржмрж╛ржЧ рж╣рждрзЗ ржкрж╛рж░рзЗред

**ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:**
> ржХрж╛рж░рзЛ ржЬржирзНржо рж╕рж╛рж▓ ржУ ржмрж░рзНрждржорж╛ржи рж╕рж╛рж▓ ржЬрж╛ржирж▓рзЗ, ржмржпрж╝рж╕ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ рж░рж╛ржЦрж╛рж░ ржжрж░ржХрж╛рж░ ржирзЗржЗтАФрж╣рж┐рж╕рж╛ржм ржХрж░рж▓рзЗржЗ рж╣ржпрж╝! ЁЯОВ

**ржнрзБрж▓ ржЙржжрж╛рж╣рж░ржг:**
```js
const [age, setAge] = useState(currentYear - birthYear); // ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝!
```

**ржнрж╛рж▓рзЛ ржЙржжрж╛рж╣рж░ржг:**
```js
const age = currentYear - birthYear; // ржпржЦржи ржжрж░ржХрж╛рж░, рждржЦржи рж╣рж┐рж╕рж╛ржм ржХрж░рзБржи
```

**ржЖрж░рзЗржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг:**
```js
const [firstName, setFirstName] = useState('Ada');
const [lastName, setLastName] = useState('Lovelace');
// тЭМ fullName ржЖрж▓рж╛ржжрж╛ state-ржП рж░рж╛ржЦржмрзЗржи ржирж╛
const fullName = firstName + ' ' + lastName; // тЬЕ рж╢рзБржзрзБ рж╣рж┐рж╕рж╛ржм ржХрж░рзБржи
```

---

## ЁЯУж рзк. ржбрзБржкрзНрж▓рж┐ржХрзЗржЯ state ржПржбрж╝рж╛ржи

ржПржХржЗ ржбрзЗржЯрж╛ ржПржХрж╛ржзрж┐ржХ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ рж░рж╛ржЦржмрзЗржи ржирж╛ред ржбрзБржкрзНрж▓рж┐ржХрзЗржЯ state рж╕рж┐ржЩрзНржХ рж░рж╛ржЦрж╛ ржХржарж┐ржи ржПржмржВ ржмрж┐ржнрзНрж░рж╛ржирзНрждрж┐ржХрж░ред ЁЯд╣тАНтЩВя╕П

**ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:**
> ржзрж░рзБржи, ржЖржкржирж╛рж░ ржмржирзНржзрзБржжрзЗрж░ ржжрзБржЗржЯрж╛ ржЖрж▓рж╛ржжрж╛ рждрж╛рж▓рж┐ржХрж╛ ржЖржЫрзЗред ржПржХржЯрж┐рждрзЗ ржпрзЛржЧ ржХрж░рж▓рзЗ ржЖрж░рзЗржХржЯрж┐рждрзЗ ржнрзБрж▓рзЗ ржЧрзЗрж▓рзЗ mismatch рж╣ржмрзЗ! ЁЯУЛ

**ржнрзБрж▓ ржЙржжрж╛рж╣рж░ржг:**
```js
const [items, setItems] = useState(['apple', 'banana']);
const [itemCount, setItemCount] = useState(2); // ржбрзБржкрзНрж▓рж┐ржХрзЗржЯ!

function addItem(item) {
  setItems([...items, item]);
  setItemCount(itemCount + 1); // ржнрзБрж▓рзЗ ржпрж╛ржУржпрж╝рж╛ рж╕рж╣ржЬ!
}
```

**ржнрж╛рж▓рзЛ ржЙржжрж╛рж╣рж░ржг:**
```js
const [items, setItems] = useState(['apple', 'banana']);
const itemCount = items.length; // рж╕ржмрж╕ржоржпрж╝ рж╕ржарж┐ржХ!
```

---

## ЁЯМ│ рзл. ржмрзЗрж╢рж┐ nested state ржПржбрж╝рж╛ржи

ржЕржирзЗржХ nested state (object-ржПрж░ ржнрж┐рждрж░рзЗ object, array-ржПрж░ ржнрж┐рждрж░рзЗ object) ржЖржкржбрзЗржЯ ржУ ржорзЗржЗржиржЯрзЗржи ржХрж░рж╛ ржХржарж┐ржиред ржпрждржЯрж╛ рж╕ржорзНржнржм flat рж░рж╛ржЦрзБржи! ЁЯПЮя╕П

**ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:**
> рж░рж╛рж╢рж┐ржпрж╝рж╛ржи ржбрж▓рзЗрж░ ржорждрзЛтАФрж╕ржмржЪрзЗржпрж╝рзЗ ржЫрзЛржЯржЯрж┐ ржмржжрж▓рж╛рждрзЗ рж╣рж▓рзЗ рж╕ржм ржЦрзБрж▓рждрзЗ рж╣ржпрж╝! ЁЯкЖ

**ржнрзБрж▓ ржЙржжрж╛рж╣рж░ржг (deep nesting):**
```js
const [state, setState] = useState({
  user: {
    profile: {
      name: '',
      age: 0
    }
  }
});

// name ржЖржкржбрзЗржЯ ржХрж░рж╛ ржЭрж╛ржорзЗрж▓рж╛:
setState(prev => ({
  ...prev,
  user: {
    ...prev.user,
    profile: {
      ...prev.user.profile,
      name: 'Grace'
    }
  }
}));
```

**ржнрж╛рж▓рзЛ ржЙржжрж╛рж╣рж░ржг (flat state):**
```js
const [profile, setProfile] = useState({ name: '', age: 0 });
// ржЖржкржбрзЗржЯ ржХрж░рж╛ ржЕржирзЗржХ рж╕рж╣ржЬ!
setProfile(prev => ({ ...prev, name: 'Grace' }));
```

---

## ЁЯза рж╕ржВржХрзНрж╖рж┐ржкрзНрждрж╕рж╛рж░

- ЁЯзй ржпрзЗржЧрзБрж▓рзЛ рж╕ржмрж╕ржоржпрж╝ ржПржХрж╕рж╛ржерзЗ ржмржжрж▓рж╛ржпрж╝, рж╕рзЗржЧрзБрж▓рзЛ ржПржХрж╕рж╛ржерзЗ рж░рж╛ржЦрзБржиред
- ЁЯЪж ржмрж┐рж░рзЛржзрзА state ржПржбрж╝рж╛рждрзЗ ржПржХржЯрж┐ status variable ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред
- ЁЯФД ржпрж╛ рж╣рж┐рж╕рж╛ржм ржХрж░рж╛ ржпрж╛ржпрж╝, рждрж╛ state-ржП рж░рж╛ржЦржмрзЗржи ржирж╛ред
- ЁЯУж ржбрзБржкрзНрж▓рж┐ржХрзЗржЯ ржбрзЗржЯрж╛ рж░рж╛ржЦржмрзЗржи ржирж╛ред
- ЁЯМ│ state ржпрждржЯрж╛ рж╕ржорзНржнржм flat рж░рж╛ржЦрзБржиред
- ЁЯПЖ ржнрж╛рж▓рзЛ state structure ржорж╛ржирзЗржЗ ржХржо ржмрж╛ржЧ, рж╕рж╣ржЬ ржХрзЛржб!

---

## ЁЯУЪ ржЖрж░ржУ ржЬрж╛ржирзБржи

ржЖрж░ржУ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржУ ржЙржжрж╛рж╣рж░ржгрзЗрж░ ржЬржирзНржп ржжрзЗржЦрзБржи [React ржЕржлрж┐рж╕рж┐ржпрж╝рж╛рж▓ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи](https://react.dev/learn/choosing-the-state-structure#group-related-state)ред
