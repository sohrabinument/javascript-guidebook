# React-ржП Lifting State Up ЁЯЪА

React ржЕрзНржпрж╛ржкрзЗ ржХрж╛ржЬ ржХрж░рж╛рж░ рж╕ржоржпрж╝, ржЖржкржирж┐ ржкрзНрж░рж╛ржпрж╝ржЗ ржжрзЗржЦржмрзЗржи ржпрзЗ ржжрзБржЗ ржмрж╛ рждрж╛рж░ ржмрзЗрж╢рж┐ ржХржорзНржкрзЛржирзЗржирзНржЯржХрзЗ ржПржХржЗ state рж╢рзЗржпрж╝рж╛рж░ ржУ рж╕ржоржирзНржмржпрж╝ ржХрж░рждрзЗ рж╣ржпрж╝ред ржПрж░ ржЬржирзНржп рж╕ржмржЪрзЗржпрж╝рзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржХрзМрж╢рж▓ рж╣ржЪрзНржЫрзЗ **Lifting State Up**! ржЪрж▓рзБржи ржжрзЗржЦрж┐ ржХрж┐ржнрж╛ржмрзЗ ржХржорзНржкрзЛржирзЗржирзНржЯржЧрзБрж▓рзЛ ржПржХрзЗ ржЕржкрж░рзЗрж░ рж╕рж╛ржерзЗ рж╕рж╣ржЬрзЗ state рж╢рзЗржпрж╝рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ЁЯдЭ

---

## ржХрзЗржи Lifting State Up ржжрж░ржХрж╛рж░? ЁЯдФ

ржЕржирзЗржХ рж╕ржоржпрж╝, ржЖржкржирж┐ ржЪрж╛ржи ржжрзБржЗржЯрж┐ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ state ржПржХрж╕рж╛ржерзЗ ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЛржХред ржпрзЗржоржи, ржЖржкржирж╛рж░ ржХрж╛ржЫрзЗ ржПржХржЯрж┐ `Products` ржХржорзНржкрзЛржирзЗржирзНржЯ ржПржмржВ ржПржХржЯрж┐ `Cart` ржХржорзНржкрзЛржирзЗржирзНржЯ ржЖржЫрзЗ, ржПржмржВ ржЖржкржирж┐ ржЪрж╛ржи ржжрзБржЯрзЛржЗ cart-ржПрж░ ржЕржмрж╕рзНржерж╛ ржЬрж╛ржирзБржХред ржпржжрж┐ ржкрзНрж░рждрзНржпрзЗржХржЯрж┐ ржирж┐ржЬрзЗрж░ state рж░рж╛ржЦрзЗ, рждрж╛рж╣рж▓рзЗ рждрж╛рж░рж╛ ржЕрж╕рж╛ржоржЮрзНржЬрж╕рзНржпржкрзВрж░рзНржг рж╣ржпрж╝рзЗ ржкржбрж╝ржмрзЗ! рждрж╛ржЗ, ржПржЗ рж╢рзЗржпрж╝рж╛рж░ ржХрж░рж╛ state ржХрзЗ рждрж╛ржжрзЗрж░ рж╕ржмржЪрзЗржпрж╝рзЗ ржХрж╛ржЫрзЗрж░ parent-ржП ржирж┐ржпрж╝рзЗ ржпрж╛ржи ржПржмржВ props рж╣рж┐рж╕рзЗржмрзЗ ржирж┐ржЪрзЗ ржкрж╛ржарж╛ржиред ржПржЯрж┐ржЗ рж╣ржЪрзНржЫрзЗ **lifting state up**ред

---

## ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг ЁЯМ│

ржзрж░рзБржи ржжрзБржЗ ржнрж╛ржЗржмрзЛржи (ржХржорзНржкрзЛржирзЗржирзНржЯ) ржПржХржЯрж┐ ржЦрзЗрж▓ржирж╛ (state) рж╢рзЗржпрж╝рж╛рж░ ржХрж░рждрзЗ ржЪрж╛ржпрж╝ред ржпржжрж┐ ржкрзНрж░рждрзНржпрзЗржХрзЗ ржирж┐ржЬрзЗрж░ ржЦрзЗрж▓ржирж╛ рж░рж╛ржЦрзЗ, рждрж╛рж╣рж▓рзЗ ржЭрж╛ржорзЗрж▓рж╛ рж╣рждрзЗ ржкрж╛рж░рзЗ! ржХрж┐ржирзНрждрзБ рждрж╛ржжрзЗрж░ ржмрж╛ржмрж╛-ржорж╛ (common parent component) ржЦрзЗрж▓ржирж╛ржЯрж┐ рж░рж╛ржЦрзЗ ржПржмржВ ржкрзНрж░ржпрж╝рзЛржЬржирзЗ ржжрзЗржпрж╝, рждрж╛рж╣рж▓рзЗ рж╕ржмрж╛ржЗ ржЦрзБрж╢рж┐ ржУ рж╕ржоржирзНржмрж┐ржд ржерж╛ржХрзЗ! ЁЯСитАНЁЯСйтАНЁЯСзтАНЁЯСж

---

## Step-by-Step: Lifting State Up ЁЯкЬ

ржЪрж▓рзБржи ржПржХржЯрж┐ ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг ржжрзЗржЦрж┐!

### ржЙржжрж╛рж╣рж░ржг: Accordion Panels ЁЯУЪ

ржзрж░рзБржи ржЖржкржирж╛рж░ ржПржХржЯрж┐ `Accordion` ржЖржЫрзЗ, ржпрж╛рж░ ржоржзрзНржпрзЗ ржжрзБржЗржЯрж┐ `Panel` ржХржорзНржкрзЛржирзЗржирзНржЯред ржЖржкржирж┐ ржЪрж╛ржи ржПржХрж╕рж╛ржерзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ panel ржЦрзЛрж▓рж╛ ржерж╛ржХрзБржХред

#### рззя╕ПтГг ржкрзНрж░рж╛ржержорж┐ржХ ржЕржмрж╕рзНржерж╛: ржкрзНрж░рждрж┐ржЯрж┐ Panel-ржП Local State

```jsx
function Panel({ title, children }) {
  const [isActive, setIsActive] = useState(false);
  return (
    <section>
      <h3>{title}</h3>
      {isActive ? (
        <p>{children}</p>
      ) : (
        <button onClick={() => setIsActive(true)}>Show</button>
      )}
    </section>
  );
}

function Accordion() {
  return (
    <>
      <Panel title="About">About content...</Panel>
      <Panel title="Etymology">Etymology content...</Panel>
    </>
  );
}
```

ржкрзНрж░рждрж┐ржЯрж┐ `Panel` ржирж┐ржЬрзЗрж░ state ржорзНржпрж╛ржирзЗржЬ ржХрж░рзЗред ржХрж┐ржирзНрждрзБ ржПржХржЯрж┐рждрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ ржЕржирзНржпржЯрж┐рж░ ржХрзЛржирзЛ ржкрж░рж┐ржмрж░рзНрждржи рж╣ржпрж╝ ржирж╛ред ржпржжрж┐ ржЪрж╛ржи ржПржХрж╕рж╛ржерзЗ ржПржХржЯрж┐ panel-ржЗ ржЦрзЛрж▓рж╛ ржерж╛ржХржмрзЗ?

---

#### рзия╕ПтГг Step 1: State рж╢рж┐рж╢рзБржжрзЗрж░ ржерзЗржХрзЗ рж╕рж░рж╛ржи ЁЯз╣

`isActive` state-ржЯрж┐ `Panel` ржерзЗржХрзЗ рж╕рж░рж┐ржпрж╝рзЗ parent `Accordion`-ржП ржирж┐ржпрж╝рзЗ ржпрж╛ржиред

```jsx
function Panel({ title, children, isActive, onShow }) {
  return (
    <section>
      <h3>{title}</h3>
      {isActive ? <p>{children}</p> : <button onClick={onShow}>Show</button>}
    </section>
  );
}
```

---

#### рзйя╕ПтГг Step 2: State parent-ржП ржпрзБржХрзНржд ржХрж░рзБржи ЁЯПа

ржПржмрж╛рж░ parent ржарж┐ржХ ржХрж░ржмрзЗ ржХрзЛржи panel ржЦрзЛрж▓рж╛ ржерж╛ржХржмрзЗ:

```jsx
function Accordion() {
  const [activeIndex, setActiveIndex] = useState(0);
  return (
    <>
      <Panel
        title="About"
        isActive={activeIndex === 0}
        onShow={() => setActiveIndex(0)}
      >
        About content...
      </Panel>
      <Panel
        title="Etymology"
        isActive={activeIndex === 1}
        onShow={() => setActiveIndex(1)}
      >
        Etymology content...
      </Panel>
    </>
  );
}
```

ржПржЦржи ржПржХрж╕рж╛ржерзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ panel ржЦрзЛрж▓рж╛ ржерж╛ржХржмрзЗ! ЁЯОЙ

---

## ржнрж┐ржЬрзНржпрзБржпрж╝рж╛рж▓ ржбрж╛ржпрж╝рж╛ржЧрзНрж░рж╛ржо ЁЯЦ╝я╕П

![Lifting State Up Diagram](../../../../../public/lifting-state-up.JPG)

---

## ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ? ЁЯза

- **State parent-ржП рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХрзЗ** (ржпрзЗржоржи, `Accordion`-ржП)ред
- **рж╢рж┐рж╢рзБ ржХржорзНржкрзЛржирзЗржирзНржЯржЧрзБрж▓рзЛ state ржУ event handler props рж╣рж┐рж╕рзЗржмрзЗ ржкрж╛ржпрж╝**ред
- **рж╢рж┐рж╢рзБ ржХржорзНржкрзЛржирзЗржирзНржЯржЧрзБрж▓рзЛ handler ржХрж▓ ржХрж░рзЗ parent-ржПрж░ state ржЖржкржбрзЗржЯ ржХрж░рзЗ**ред
- **Parent ржирждрзБржи props ржжрж┐ржпрж╝рзЗ рж╢рж┐рж╢рзБржжрзЗрж░ рж░рж┐-рж░рзЗржирзНржбрж╛рж░ ржХрж░рзЗ**ред

ржПржЗ ржкрзНржпрж╛ржЯрж╛рж░рзНржи ржЖржкржирж╛рж░ UI ржХрзЗ рж╕ржоржирзНржмрж┐ржд рж░рж╛ржЦрзЗ ржПржмржВ ржмрж╛ржЧ ржПржбрж╝рж╛рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ! ЁЯРЮ

---

## ржЖрж░рзЗржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг: Cart State рж╢рзЗржпрж╝рж╛рж░ ржХрж░рж╛ ЁЯЫТ

ржзрж░рзБржи ржЖржкржирж╛рж░ ржХрж╛ржЫрзЗ `Products` ржПржмржВ `Cart` ржирж╛ржорзЗ ржжрзБржЗржЯрж┐ sibling ржХржорзНржкрзЛржирзЗржирзНржЯ ржЖржЫрзЗред ржЖржкржирж┐ ржЪрж╛ржи `Products` ржерзЗржХрзЗ cart-ржП ржкржгрзНржп ржпрзЛржЧ ржХрж░рждрзЗ ржПржмржВ `Cart`-ржП рждрж╛ ржжрзЗржЦрж╛рждрзЗред

```jsx
function App() {
  const [cart, setCart] = useState([]);
  return (
    <>
      <Products cart={cart} setCart={setCart} />
      <Cart cart={cart} />
    </>
  );
}

function Products({ cart, setCart }) {
  const products = [
    { id: 1, name: "Apple ЁЯНО" },
    { id: 2, name: "Banana ЁЯНМ" },
  ];
  const addToCart = (product) => setCart([...cart, product]);
  return (
    <div>
      <h2>Products</h2>
      {products.map((product) => (
        <div key={product.id}>
          {product.name}
          <button onClick={() => addToCart(product)}>Add to Cart</button>
        </div>
      ))}
    </div>
  );
}

function Cart({ cart }) {
  return (
    <div>
      <h2>Cart</h2>
      {cart.length === 0 ? (
        <p>No items in cart.</p>
      ) : (
        <ul>
          {cart.map((item, idx) => (
            <li key={idx}>{item.name}</li>
          ))}
        </ul>
      )}
    </div>
  );
}
```

---

## рж╕ржВржХрзНрж╖рзЗржкрзЗ ЁЯУЭ

- ЁЯФ╝ **State ржЙржкрж░рзЗ рждрзБрж▓рзБржи** (lift up) рж╕ржмржЪрзЗржпрж╝рзЗ ржХрж╛ржЫрзЗрж░ parent-ржП, ржпрж╛рждрзЗ ржПржХрж╛ржзрж┐ржХ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ рж╢рзЗржпрж╝рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ред
- ЁЯУж State ржУ updater function props рж╣рж┐рж╕рзЗржмрзЗ ржкрж╛ржарж╛ржиред
- ЁЯзй рж╢рж┐рж╢рзБ ржХржорзНржкрзЛржирзЗржирзНржЯржЧрзБрж▓рзЛ props ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ state ржжрзЗржЦрж╛ржпрж╝ ржУ ржЖржкржбрзЗржЯ ржХрж░рзЗред
- ЁЯз╣ ржПрждрзЗ UI рж╕ржоржирзНржмрж┐ржд ржерж╛ржХрзЗ ржПржмржВ ржбрзБржкрзНрж▓рж┐ржХрзЗрж╢ржи ржПржбрж╝рж╛ржирзЛ ржпрж╛ржпрж╝!

---

## ржирж┐ржЬрзЗржХрзЗ ржЪрзНржпрж╛рж▓рзЗржЮрзНржЬ ржХрж░рзБржи! ЁЯТб

ржПржЯрж┐ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржи: ржЖржкржирж╛рж░ ржХрж╛ржЫрзЗ ржжрзБржЗржЯрж┐ input field ржЖржЫрзЗред ржХрж┐ржнрж╛ржмрзЗ ржХрж░ржмрзЗржи ржпрж╛рждрзЗ ржпрзЗржХрзЛржирзЛ ржПржХржЯрж┐рждрзЗ ржЯрж╛ржЗржк ржХрж░рж▓рзЗ ржжрзБржЯрзЛрждрзЗржЗ ржПржХржЗ ржнрзНржпрж╛рж▓рзБ ржжрзЗржЦрж╛ржпрж╝?

```jsx
function SyncedInputs() {
  const [text, setText] = useState("");
  return (
    <>
      <input value={text} onChange={(e) => setText(e.target.value)} />
      <input value={text} onChange={(e) => setText(e.target.value)} />
    </>
  );
}
```

ржХрзЗржи ржПржЯрж┐ ржХрж╛ржЬ ржХрж░рзЗ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рзБржи! (ржЗржЩрзНржЧрж┐ржд: state ржЙржкрж░рзЗ рждрзЛрж▓рж╛ рж╣ржпрж╝рзЗржЫрзЗ!)

---

## ржЖрж░ржУ ржкржбрж╝рзБржи ЁЯУЪ

- [React Docs: Sharing State Between Components](https://react.dev/learn/sharing-state-between-components)
- [Thinking in React](https://react.dev/learn/thinking-in-react)

рж╢рзБржн ржХрзЛржбрж┐ржВ! ЁЯОЙ
