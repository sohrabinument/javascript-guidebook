---
title: React-ржП State as a Snapshot
---

# ЁЯЦ╝я╕П React-ржП State as a Snapshot

> **React-ржПрж░ State рж╣рж▓рзЛ ржПржХ ржорзБрж╣рзВрж░рзНрждрзЗрж░ ржЫржмрж┐ (snapshot)ред**
> ржЖржкржирж┐ ржпржЦржи state ржЖржкржбрзЗржЯ ржХрж░рзЗржи, рждржЦржи React-ржХрзЗ ржмрж▓рзЗржи, "ржЖржорж╛рж░ UI-ржПрж░ ржирждрзБржи ржЫржмрж┐ рждрзЛрж▓рзЛ!"

---

## ЁЯОп ржЖржкржирж┐ ржХрзА рж╢рж┐ржЦржмрзЗржи

- State рж╕рзЗржЯ ржХрж░рж▓рзЗ ржХрзАржнрж╛ржмрзЗ re-render рж╣рзЯ
- State рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ ржЖржкржбрзЗржЯ рж╣рзЯ ржирж╛ ржХрзЗржи
- Event handler-ржП state-ржПрж░ snapshot ржХрзАржнрж╛ржмрзЗ ржжрзЗржЦрж╛ ржпрж╛рзЯ
- рж╕рж╛ржзрж╛рж░ржг ржнрзБрж▓ ржПржмржВ ржХрзАржнрж╛ржмрзЗ ржПржбрж╝рж╛ржирзЛ ржпрж╛рзЯ

---

## рзз. State рж╕рзЗржЯ ржХрж░рж▓рзЗ Re-render рж╣рзЯ

ржнрж╛ржмрзБржи, ржЖржкржирж╛рж░ UI ржПржХржЯрж┐ ржлржЯрзЛ ржЕрзНржпрж╛рж▓ржмрж╛ржоред ржЖржкржирж┐ ржпржЦржиржЗ state ржЖржкржбрзЗржЯ ржХрж░рзЗржи, React ржПржХржЯрж┐ ржирждрзБржи ржЫржмрж┐ рждрзЛрж▓рзЗ!

```jsx
import { useState } from 'react';

export default function Form() {
  const [isSent, setIsSent] = useState(false);
  const [message, setMessage] = useState('Hi!');

  if (isSent) {
    return <h1>ржЖржкржирж╛рж░ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ!</h1>;
  }

  return (
    <form onSubmit={e => {
      e.preventDefault();
      setIsSent(true);
      sendMessage(message);
    }}>
      <textarea
        placeholder="Message"
        value={message}
        onChange={e => setMessage(e.target.value)}
      />
      <button type="submit">Send</button>
    </form>
  );
}

function sendMessage(message) {
  // ржзрж░рзБржи, ржПржЯрж┐ ржЖржкржирж╛рж░ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржЪрзНржЫрзЗ!
}
```

"Send" ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ ржХрзА рж╣рзЯ?

1. ржлрж░рзНржоржЯрж┐ рж╕рж╛ржмржорж┐ржЯ рж╣рзЯред
2. `setIsSent(true)` React-ржХрзЗ ржмрж▓рзЗ ржирждрзБржи snapshot ржирж┐рждрзЗред
3. React ржирждрзБржи state ржжрж┐рзЯрзЗ UI ржЖржмрж╛рж░ рж░рзЗржирзНржбрж╛рж░ ржХрж░рзЗред

---

## рзи. Rendering ржорж╛ржирзЗ Snapshot рждрзЛрж▓рж╛

React-ржХрзЗ ржПржХржЯрж┐ ржХрзНржпрж╛ржорзЗрж░рж╛ ржнрж╛ржмрзБржиред ржкрзНрж░рждрж┐ржмрж╛рж░ ржЖржкржирж╛рж░ ржХржорзНржкрзЛржирзЗржирзНржЯ рж░рзЗржирзНржбрж╛рж░ рж╣рж▓рзЗ, React state-ржПрж░ ржПржХржЯрж┐ ржЫржмрж┐ рждрзЛрж▓рзЗ ржПржмржВ UI ржмрж╛ржирж╛рзЯред ржЖржкржирж┐ state ржмржжрж▓рж╛рж▓рзЗ, React ржЖржмрж╛рж░ ржЫржмрж┐ рждрзЛрж▓рзЗ ржПржмржВ UI ржЖржкржбрзЗржЯ ржХрж░рзЗред

**ржЙржжрж╛рж╣рж░ржг:**
- ржзрж░рзБржи, ржЖржкржирж┐ ржнрж┐ржбрж┐ржУ ржЧрзЗржо ржЦрзЗрж▓ржЫрзЗржиред ржкрзНрж░рждрж┐ржмрж╛рж░ ржЖржкржирж┐ progress рж╕рзЗржн ржХрж░рж▓рзЗ, ржПржХржЯрж┐ "save point" (snapshot) рждрзИрж░рж┐ рж╣рзЯред ржкрж░рзЗ reload ржХрж░рж▓рзЗ, ржЖржкржирж┐ рж╕рзЗржЗ ржорзБрж╣рзВрж░рзНрждрзЗ ржлрж┐рж░рзЗ ржпрж╛ржиред React-ржПрж░ state-ржУ ржарж┐ржХ ржПржоржитАФржкрзНрж░рждрж┐ржЯрж┐ render ржорж╛ржирзЗ UI-ржПрж░ ржПржХржЯрж┐ save pointред

- **State ржмржирж╛ржо рж╕рж╛ржзрж╛рж░ржг ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓:**
  - State React-ржжрзНржмрж╛рж░рж╛ ржорзНржпрж╛ржирзЗржЬ рж╣рзЯ ржПржмржВ re-render рж╣рж▓рзЗржУ ржЯрж┐ржХрзЗ ржерж╛ржХрзЗред рж╕рж╛ржзрж╛рж░ржг ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ ржкрзНрж░рждрж┐ржмрж╛рж░ ржлрж╛ржВрж╢ржи ржЪрж▓рж▓рзЗ рж░рж┐рж╕рзЗржЯ рж╣рзЯред

---

## рзй. State Updates Are Not Immediate

ржЪрж▓рзБржи ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг ржнрзБрж▓ ржжрзЗржЦрж┐:

```jsx
<button onClick={() => {
  setNumber(number + 1);
  setNumber(number + 1);
  setNumber(number + 1);
}}>+3</button>
```

**ржЖржкржирж╛рж░ ржХрзА ржоржирзЗ рж╣рзЯ ржХрзА рж╣ржмрзЗ?**  
ржпржжрж┐ржУ ржЖржкржирж┐ `setNumber(number + 1)` рждрж┐ржиржмрж╛рж░ ржХрж▓ ржХрж░рзЗржЫрзЗржи, рж╕ржВржЦрзНржпрж╛ ржорж╛рждрзНрж░ рзз ржмрж╛рзЬржмрзЗ!

**ржХрзЗржи?**  
ржкрзНрж░рждрж┐ржЯрж┐ ржХрж▓ ржПржХржЗ render-ржПрж░ "snapshot" ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред

**ржЯрж┐ржк:**
ржЖржЧрзЗрж░ ржорж╛ржирзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржЪрж╛ржЗрж▓рзЗ, updater ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи:

```jsx
setNumber(n => n + 1);
setNumber(n => n + 1);
setNumber(n => n + 1);
```
ржПржмрж╛рж░ рж╕ржВржЦрзНржпрж╛ рзй ржмрж╛рзЬржмрзЗ!

---

## рзк. State Over Time: Async Surprises

```jsx
<button onClick={() => {
  setNumber(number + 5);
  setTimeout(() => {
    alert(number);
  }, 3000);
}}>+5</button>
```

**Alert-ржП ржХрзА ржжрзЗржЦрж╛ржмрзЗ?**  
ржПржЯрж┐ ржкрзБрж░ржирзЛ ржорж╛ржи ржжрзЗржЦрж╛ржмрзЗ, ржирждрзБржи ржорж╛ржи ржирзЯ!  
ржХрж╛рж░ржг event handler рждрзИрж░рж┐ рж╣ржУрзЯрж╛рж░ рж╕ржорзЯрзЗрж░ state-ржЗ ржоржирзЗ рж░рж╛ржЦрзЗред

---

## ЁЯСитАНЁЯН│ЁЯН╜я╕П ржЙржжрж╛рж╣рж░ржг: рж╢рзЗржл ржУ ржУрзЯрзЗржЯрж╛рж░

ржЖржкржирж╛рж░ React ржХржорзНржкрзЛржирзЗржирзНржЯржХрзЗ ржнрж╛ржмрзБржи ржПржХржЯрж┐ **рж╢рзЗржл** рж╣рж┐рж╕рзЗржмрзЗ, ржЖрж░ UI-ржХрзЗ ржнрж╛ржмрзБржи **ржУрзЯрзЗржЯрж╛рж░** рж╣рж┐рж╕рзЗржмрзЗ, ржпрзЗ ржЦрж╛ржмрж╛рж░ ржкрж░рж┐ржмрзЗрж╢ржи ржХрж░рзЗред

- **ржУрзЯрзЗржЯрж╛рж░** (UI) ржХрзЗржмрж▓ рж╕рзЗржЗ ржЦрж╛ржмрж╛рж░ (state) ржкрж░рж┐ржмрзЗрж╢ржи ржХрж░рзЗ, ржпрж╛ **рж╢рзЗржл** (ржХржорзНржкрзЛржирзЗржирзНржЯ) рждржЦржи ржкрзНрж░рж╕рзНрждрзБржд рж░рзЗржЦрзЗржЫрзЗред
- рж╢рзЗржл ржирждрзБржи ржХрж┐ржЫрзБ рж░рж╛ржирзНржирж╛ рж╢рзБрж░рзБ ржХрж░рж▓рзЗ (state update), ржУрзЯрзЗржЯрж╛рж░ ржкрж░рж┐ржмрзЗрж╢ржи ржХрж░ржмрзЗ ржирж╛ ржпрждржХрзНрж╖ржг ржирж╛ рж╢рзЗржл ржмрж▓рзЗ, "рж╣рзЯрзЗ ржЧрзЗржЫрзЗ!" (ржкрж░ржмрж░рзНрждрзА render)ред
- рж╢рзЗржл ржорж╛ржЭржкржерзЗ рж░рзЗрж╕рж┐ржкрж┐ ржмржжрж▓рж╛рж▓рзЗржУ, ржУрзЯрзЗржЯрж╛рж░ ржХрзЗржмрж▓ ржЖржЧрзЗрж░ ржЕрж░рзНржбрж╛рж░рзЗрж░ рж╕ржорзЯржХрж╛рж░ ржЦрж╛ржмрж╛рж░ржЗ ржкрж░рж┐ржмрзЗрж╢ржи ржХрж░ржмрзЗ (render-ржПрж░ snapshot)ред

**ржорзВрж▓ ржХржерж╛:**
> UI рж╕ржмрж╕ржорзЯ рж╕рзЗржЗ "ржбрж┐рж╢" (state) ржжрзЗржЦрж╛рзЯ, ржпрж╛ рж╢рзЗрж╖ render-ржПрж░ рж╕ржорзЯ ржкрзНрж░рж╕рзНрждрзБржд ржЫрж┐рж▓, рж╢рзЗржл ржПржЦржи ржХрзА рж░рж╛ржирзНржирж╛ ржХрж░ржЫрзЗ рждрж╛ ржирзЯ!

рждрж╛ржЗ, ржЖржкржирж┐ state ржЖржкржбрзЗржЯ ржХрж░рж╛рж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ ржкрзЬрждрзЗ ржЪрж╛ржЗрж▓рзЗ, ржкрзБрж░ржирзЛ ржорж╛ржиржЗ ржкрж╛ржмрзЗржитАФржХрж╛рж░ржг ржирждрзБржи ржбрж┐рж╢ ржПржЦржирзЛ ржкрж░рж┐ржмрзЗрж╢ржирзЗрж░ ржЬржирзНржп ржкрзНрж░рж╕рзНрждрзБржд ржирзЯ!

---

## ЁЯТб рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк ржУ ржЯрж┐ржкрж╕

- State рж╕рзЗржЯ ржХрж░рж▓рзЗ ржирждрзБржи render (ржирждрзБржи snapshot) рж╣рзЯ
- State React-ржПрж░ ржХрж╛ржЫрзЗ рж╕ржВрж░ржХрзНрж╖рж┐ржд, ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржирзЗ ржирзЯ
- ржкрзНрж░рждрж┐ржЯрж┐ render-ржП ржЖрж▓рж╛ржжрж╛ state ржУ event handler ржерж╛ржХрзЗ
- Render ржЪрж▓рж╛ржХрж╛рж▓рзАржи state ржХржЦржирзЛ ржмржжрж▓рж╛рзЯ ржирж╛
- рж╕рж░рзНржмрж╢рзЗрж╖ ржорж╛ржи ржкрзЗрждрзЗ updater ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи

---

## тЭУ FAQ: рж╕рж╛ржзрж╛рж░ржг ржкрзНрж░рж╢рзНржи

**ржкрзНрж░: setState ржХрж▓ ржХрж░рж╛рж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ state ржЖржкржбрзЗржЯ рж╣рзЯ ржирж╛ ржХрзЗржи?**
ржЙ: React ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕рзЗрж░ ржЬржирзНржп state ржЖржкржбрзЗржЯржЧрзБрж▓рзЛ ржПржХрж╕рж╛ржерзЗ ржХрж░рзЗред ржирждрзБржи ржорж╛ржи ржкрж░ржмрж░рзНрждрзА render-ржП ржкрж╛ржУрзЯрж╛ ржпрж╛ржмрзЗред

**ржкрзНрж░: рж╕рж╛ржзрж╛рж░ржг ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ ржжрж┐рзЯрзЗ ржХрж┐ state-ржПрж░ ржХрж╛ржЬ ржХрж░рж╛ ржпрж╛ржмрзЗ?**
ржЙ: рж╕рж╛ржзрж╛рж░ржг ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ ржкрзНрж░рждрж┐ржмрж╛рж░ render-ржП рж░рж┐рж╕рзЗржЯ рж╣рзЯред render-ржПрж░ ржоржзрзНржпрзЗ ржорж╛ржи рж░рж╛ржЦрждрзЗ ржЪрж╛ржЗрж▓рзЗ state ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред

**ржкрзНрж░: async ржХрзЛржбрзЗ рж╕рж░рзНржмрж╢рзЗрж╖ state ржорж╛ржи ржХрзАржнрж╛ржмрзЗ ржкрж╛ржмрзЛ?**
ржЙ: setState-ржПрж░ updater ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи, ржЕржержмрж╛ рж╕рждрзНржпрж┐ржХрж╛рж░рзЗрж░ рж╕рзНржерж╛рзЯрзА ржорж╛ржирзЗрж░ ржЬржирзНржп ref ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред

---

## ЁЯФЧ ржЖрж░ржУ ржЬрж╛ржирзБржи

- [React ржЕржлрж┐рж╕рж┐рзЯрж╛рж▓ ржбржХрж╕: State as a Snapshot](https://react.dev/learn/state-as-a-snapshot)

---

рж╢рзБржн ржХрзЛржбрж┐ржВ! ЁЯЪА
