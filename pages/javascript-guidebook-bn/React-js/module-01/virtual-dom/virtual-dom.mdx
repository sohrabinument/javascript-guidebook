import { Callout } from "nextra/components";

---

# ЁЯМ│ ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ DOM ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ (React)

рж╕рзНржмрж╛ржЧрждржо! ржХржЦржирзЛ ржнрзЗржмрзЗржЫрзЗржи React ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкржХрзЗ ржПржд ржжрзНрж░рзБржд ржУ рж╕рзНржорзБрже ржХрж░рзЗ рждрзЛрж▓рзЗ ржХрзАржнрж╛ржмрзЗ? ржПрж░ рж░рж╣рж╕рзНржп рж╣рж▓рзЛ ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ DOMред ржЪрж▓рзБржи ржжрзЗржЦрж┐, ржПржЯрж┐ ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ, ржХрзЗржи ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг, ржПржмржВ ржнрзНржпрж╛ржирж┐рж▓рж╛ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯрзЗрж░ рждрзБрж▓ржирж╛ржпрж╝ ржХрзА ржкрж╛рж░рзНржержХрзНржпред ЁЯЪА

---

## ЁЯРв DOM ржХрж┐ рж╕рждрзНржпрж┐ржЗ ржзрзАрж░?

<Callout type="info">
  DOM ржирж┐ржЬрзЗ ржзрзАрж░ ржиржпрж╝! рждржмрзЗ ржУржпрж╝рзЗржм ржЕрзНржпрж╛ржк ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХржЯрж┐ржн рж╣рж▓рзЗ ржПржмржВ ржмрзНрж░рж╛ржЙржЬрж╛рж░ржХрзЗ ржмрж╛рж░ржмрж╛рж░
  ржкрзБрж░рзЛ UI рж░рзЗржирзНржбрж╛рж░ ржХрж░рждрзЗ рж╣рж▓рзЗ, рждржЦржи рж╕рзНрж▓рзЛ рж▓рж╛ржЧрждрзЗ ржкрж╛рж░рзЗред
</Callout>

- рж╕ржарж┐ржХржнрж╛ржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ DOM ржжрзНрж░рзБрждред
- ржШржи ржШржи ржУ ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ repaint ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржХржорж┐ржпрж╝рзЗ ржжрзЗржпрж╝тАФDOM ржирж┐ржЬрзЗ ржзрзАрж░ ржиржпрж╝ред

---

## ЁЯЦ╝я╕П ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржХрзАржнрж╛ржмрзЗ DOM рж░рзЗржирзНржбрж╛рж░ ржХрж░рзЗ?

ржпржЦржи ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржЖржкржирж╛рж░ HTML ржУ CSS ржкрж╛ржпрж╝:

1. HTML ржУ CSS ржкрж╛рж░рзНрж╕ ржХрж░рзЗ **DOM Tree** ржУ **CSSOM** (рж╕рзНржЯрж╛ржЗрж▓ рж░рзБрж▓рж╕) рждрзИрж░рж┐ ржХрж░рзЗред
2. ржПржЧрзБрж▓рзЛ ржорж┐рж▓рзЗ **Render Tree** рж╣ржпрж╝ред
3. ржмрзНрж░рж╛ржЙржЬрж╛рж░ рж▓рзЗржЖржЙржЯ рж╣рж┐рж╕рж╛ржм ржХрж░рзЗ ржПржмржВ рж╕ржмржХрж┐ржЫрзБ рж╕рзНржХрзНрж░рж┐ржирзЗ ржЖржБржХрзЗред

<Callout type="warning">
  ржпржжрж┐ ржмрзНрж░рж╛ржЙржЬрж╛рж░ржХрзЗ ржмрж╛рж░ржмрж╛рж░ ржкрзБрж░рзЛ ржкрзЗржЬ repaint ржХрж░рждрзЗ рж╣ржпрж╝, ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржХржорзЗ ржпрж╛ржпрж╝!
</Callout>

---

## ЁЯНО ржнрзНржпрж╛ржирж┐рж▓рж╛ JS ржмржирж╛ржо React: DOM Repaint ржЙржжрж╛рж╣рж░ржг

ржЪрж▓рзБржи ржжрзЗржЦрж┐, ржлрж▓рзЗрж░ рж▓рж┐рж╕рзНржЯрзЗ ржЖржЗржЯрзЗржо ржпрзЛржЧ ржХрж░рж╛рж░ ржЙржжрж╛рж╣рж░ржгрзЗ ржнрзНржпрж╛ржирж┐рж▓рж╛ JS ржУ React ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред

### ЁЯНМ ржнрзНржпрж╛ржирж┐рж▓рж╛ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржЙржжрж╛рж╣рж░ржг

```js
Array.prototype.myPush = function (...a) {
  this.push(a[0]);
  init();
};

const display = document.getElementById("fruits");
const button = document.querySelector("#button");

let fruits = ["mango", "guava", "apple", "oragne"];

const init = function () {
  document.getElementById("fruits").innerHTML = "";
  fruits.sort().forEach((fruit) => {
    let item = document.createElement("li");
    item.textContent = fruit;
    document.getElementById("fruits").appendChild(item);
  });
};

const addItem = function () {
  fruits.myPush(document.getElementById("input").value);
};

init();
```

**HTML:**

```html
<ul id="fruits"></ul>
<input type="text" id="input" />
<button id="button" onclick="addItem()">Add Item</button>
```

<Callout type="info">
  ржкрзНрж░рждрж┐ржмрж╛рж░ ржирждрзБржи ржлрж▓ ржпрзЛржЧ ржХрж░рж▓рзЗ ржкрзБрж░рзЛ рж▓рж┐рж╕рзНржЯ ржЖржмрж╛рж░ рждрзИрж░рж┐ ржУ repaint рж╣ржпрж╝тАФржПржХржЯрж┐ ржЖржЗржЯрзЗржо
  ржмржжрж▓рж╛рж▓рзЗржУ!
</Callout>

---

### ЁЯзм ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯрзЗ ржкрзНрж░рзЛржЯрзЛржЯрж╛ржЗржк ржХрзА?

ржкрзНрж░рждрж┐ржЯрж┐ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржЕржмржЬрзЗржХрзНржЯрзЗрж░ ржПржХржЯрж┐ ржкрзНрж░рзЛржЯрзЛржЯрж╛ржЗржк ржерж╛ржХрзЗред ржЖржкржирж┐ ржЪрж╛ржЗрж▓рзЗ ржмрж┐рж▓рзНржЯ-ржЗржи ржЕржмржЬрзЗржХрзНржЯ (ржпрзЗржоржи Array)-ржПрж░ ржкрзНрж░рзЛржЯрзЛржЯрж╛ржЗржкрзЗ ржорзЗржержб ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржЙржкрж░рзЗрж░ ржЙржжрж╛рж╣рж░ржгрзЗ ржЖржорж░рж╛ Array-рждрзЗ ржХрж╛рж╕рзНржЯржо `myPush` ржорзЗржержб ржпрзЛржЧ ржХрж░рзЗржЫрж┐ред

<Callout type="warning">
  ржкрзНрж░рзЛржбрж╛ржХрж╢ржирзЗ ржмрж┐рж▓рзНржЯ-ржЗржи ржкрзНрж░рзЛржЯрзЛржЯрж╛ржЗржк ржкрж░рж┐ржмрж░рзНрждржи ржирж┐рж░рзБрзОрж╕рж╛рж╣рж┐ржд, рждржмрзЗ рж╢рзЗржЦрж╛рж░ ржЬржирзНржп ржнрж╛рж▓рзЛред
</Callout>

---

## тЪб ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ DOM ржХрзА? ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?

ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ DOM рж╣рж▓рзЛ React-ржПрж░ ржорзВрж▓ рж╢ржХрзНрждрж┐ред ржПржЯрж┐ React-ржХрзЗ рж╢рзБржзрзБ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржЕржВрж╢ ржЖржкржбрзЗржЯ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ, ржлрж▓рзЗ ржЕрзНржпрж╛ржк ржжрзНрж░рзБржд ржУ ржХрж╛рж░рзНржпржХрж░рзА рж╣ржпрж╝ред

- React ржмрзНржпрж╛ржЪ ржЖржкржбрзЗржЯ ржХрж░рзЗ ржУ DOM ржорзНржпрж╛ржирж┐ржкрзБрж▓рзЗрж╢ржи ржХржорж╛ржпрж╝ред
- рж╢рзБржзрзБ ржкрж░рж┐ржмрж░рзНрждрж┐ржд UI ржЕржВрж╢ ржЖржкржбрзЗржЯ рж╣ржпрж╝ред

### ЁЯНЗ React ржЙржжрж╛рж╣рж░ржг

```jsx
const Fruits = () => {
  const [fruit, setFruit] = React.useState("");
  const [fruits, setFruits] = React.useState([
    "mango",
    "guava",
    "apple",
    "oragne",
  ]);

  return (
    <div className="container">
      <ul id="fruits">
        {fruits.sort().map((fruit, index) => (
          <li key={index}>{fruit}</li>
        ))}
      </ul>
      <br />
      <p>
        <input
          type="text"
          value={fruit}
          onChange={(e) => setFruit(e.target.value)}
        />
      </p>
      <button onClick={() => setFruits([...fruits, fruit])}>Add Item</button>
    </div>
  );
};

ReactDOM.render(<Fruits />, document.getElementById("root"));
```

<Callout type="success">
  React рж╢рзБржзрзБ ржкрж░рж┐ржмрж░рзНрждрж┐ржд DOM ржЕржВрж╢ ржЖржкржбрзЗржЯ ржХрж░рзЗтАФржкрзБрж░рзЛ рж▓рж┐рж╕рзНржЯ repaint рж╣ржпрж╝ ржирж╛!
</Callout>

ржЖржкржирж┐ UI-рждрзЗ ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХрзНржЯ ржХрж░рж▓рзЗ React:

1. ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ DOM-ржП UI-рж░ ржПржХржЯрж┐ ржХржкрж┐ рждрзИрж░рж┐ ржХрж░рзЗред
2. Diffing/Reconciliation ржЕрзНржпрж╛рж▓ржЧрж░рж┐ржжржо ржжрж┐ржпрж╝рзЗ ржХрзА ржкрж░рж┐ржмрж░рзНрждржи рж╣ржпрж╝рзЗржЫрзЗ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рзЗред
3. рж╢рзБржзрзБ рж╕рзЗржЗ ржЕржВрж╢ ржЖрж╕рж▓ DOM-ржП ржЖржкржбрзЗржЯ ржХрж░рзЗред

---

## ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ DOM ржмржирж╛ржо рж░рж┐ржпрж╝рзЗрж▓ DOM тАУ ржЪрж┐рждрзНрж░рж╕рж╣ ржмрзНржпрж╛ржЦрзНржпрж╛

![virtual dom](../../../../../public/virtual_dom.jpg)

_ржбрж╛ржпрж╝рж╛ржЧрзНрж░рж╛ржо: React ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ DOM рждрзИрж░рж┐ ржХрж░рзЗ, ржЖржЧрзЗрж░ ржнрж╛рж░рзНрж╕ржирзЗрж░ рж╕рж╛ржерзЗ рждрзБрж▓ржирж╛ ржХрж░рзЗ, ржПржмржВ рж╢рзБржзрзБ ржкрж░рж┐ржмрж░рзНрждрж┐ржд ржЕржВрж╢ржЧрзБрж▓рзЛржЗ ржЖрж╕рж▓ DOM-ржП ржЖржкржбрзЗржЯ ржХрж░рзЗред_

<Callout type="info">
  ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ DOM ржПржХржЯрж┐ ржоржзрзНржпржмрж░рзНрждрзА рж╕рзНрждрж░тАФReact ржирждрзБржи ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ DOM ржХрзЗ ржЖржЧрзЗрж░ржЯрж╛рж░ рж╕рж╛ржерзЗ
  рждрзБрж▓ржирж╛ ржХрж░рзЗ, ржкрж╛рж░рзНржержХрзНржп ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рзЗ, ржПржмржВ рж╢рзБржзрзБ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржЕржВрж╢ржЗ ржЖрж╕рж▓ DOM-ржП ржЖржкржбрзЗржЯ
  ржХрж░рзЗред ржПржЯрж╛ржЗ React-ржХрзЗ ржПржд ржХрж╛рж░рзНржпржХрж░рзА ржХрж░рзЗ рждрзЛрж▓рзЗ!
</Callout>

---

## ЁЯПБ рж╕ржВржХрзНрж╖рзЗржкрзЗ: ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ DOM ржХрзЗржи ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг

- ржнрзНржпрж╛ржирж┐рж▓рж╛ JS: рж╕рж░рж╛рж╕рж░рж┐ DOM ржорзНржпрж╛ржирж┐ржкрзБрж▓рзЗрж╢ржи рж╕рзНрж▓рзЛ ржУ ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ repaint ржШржЯрж╛рждрзЗ ржкрж╛рж░рзЗред
- React: ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ DOM рж╢рзБржзрзБ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржЕржВрж╢ ржЖржкржбрзЗржЯ ржХрж░рзЗ, ржЕрзНржпрж╛ржк ржжрзНрж░рзБржд ржУ рж╕рзНржорзБрже рж░рж╛ржЦрзЗред

<Callout type="info">
  ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ DOM-ржЗ React-ржПрж░ ржЧрждрж┐ ржУ рж╕рзНржорзБржержирзЗрж╕рзЗрж░ ржЧрзЛржкржи рж░рж╣рж╕рзНржп! ЁЯЪА
</Callout>

---

## ЁЯСЙ ржкрж░ржмрж░рзНрждрзА ржзрж╛ржк

- ржирж┐ржЬрзЗ React-ржП ржПржХржЯрж┐ рж▓рж┐рж╕рзНржЯ ржЕрзНржпрж╛ржк ржмрж╛ржирж╛ржирзЛрж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржи!
- ржЖрж░ржУ ржЬрж╛ржирзБржи: <a href="https://react.dev/">React ржЕржлрж┐рж╕рж┐ржпрж╝рж╛рж▓ ржбржХрж╕</a> ржерзЗржХрзЗред
