import { Callout } from "nextra/components";

<img
  src="https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg"
  alt="React Logo"
  width="70"
  style={{ marginBottom: "1rem" }}
/>

# Referencing Values with Refs ‚Äì Interview Questions & Answers

Use these questions to prepare for interviews or test your understanding of refs in React.

> **üí° Pro Tip:** Try answering each question yourself before checking the answer. This will help you remember the concepts better!

---

## 4.1 ‚Äì Fundamentals üß©

<div style={{ background: 'rgba(0, 100, 200, 0.10)', padding: '15px', borderRadius: '5px', marginBottom: '20px', border: '1px solid rgba(0, 100, 200, 0.15)', color: 'inherit' }}>

**Q1: What is a ref in React?**  
A: A ref is a special object returned by the `useRef` hook that lets you persist values across renders without causing a re-render when the value changes.

**Q2: How do you create and use a ref in a functional component?**  
A:

```jsx
import { useRef } from "react";
function MyComponent() {
  const myRef = useRef(0);
  // Access or update with myRef.current
}
```

**Q3: What is the main difference between state and ref?**  
A: Updating state triggers a re-render, but updating a ref does not.

**Q4: When should you use a ref instead of state?**  
A: Use a ref when you want to store a value that does not affect the UI or does not need to trigger a re-render (e.g., timer IDs, previous values, DOM elements).

**Q5: Can refs be used to access DOM elements? How?**  
A: Yes! Attach the ref to a JSX element using the `ref` attribute:

```jsx
const inputRef = useRef();
return <input ref={inputRef} />;
```

You can then access the DOM node with `inputRef.current`.

</div>

---

## 4.2 ‚Äì Rules & Pitfalls ‚ö†Ô∏è

<div style={{ background: 'rgba(230, 150, 70, 0.10)', padding: '15px', borderRadius: '5px', marginBottom: '20px', border: '1px solid rgba(230, 150, 70, 0.15)', color: 'inherit' }}>

**Q6: What happens if you update a ref during rendering?**  
A: It can cause unpredictable behavior. You should only update refs inside effects, event handlers, or callbacks‚Äînot during render.

**Q7: What is a common pitfall when using refs for values you want to display in the UI?**  
A: The UI will not update when the ref changes. Use state for values that should be shown in the UI.

**Q8: Can you store any type of value in a ref?**  
A: Yes! You can store numbers, strings, objects, functions, or even DOM nodes.

**Q9: What is the shape of the object returned by useRef?**  
A: `{ current: initialValue }`

**Q10: Can refs be used to persist values between renders?**  
A: Yes, refs persist for the full lifetime of the component.

</div>

---

## 4.3 ‚Äì Scenario & Practical Example üèÜ

<div style={{ background: 'rgba(20, 120, 220, 0.10)', padding: '20px', borderRadius: '5px', marginBottom: '20px', border: '1px solid rgba(20, 120, 220, 0.15)', color: 'inherit' }}>

### Scenario-Based Question:

**Suppose you want to implement a stopwatch that can start and stop, and you need to store the timer ID so you can clear it later. Should you use state or ref for the timer ID? Why?**

<details>
<summary>**Click to see a sample answer**</summary>

**Sample Answer:**  
You should use a ref for the timer ID because it does not affect the UI and does not need to trigger a re-render. Storing it in state would cause unnecessary re-renders.

```jsx
const timerRef = useRef(null);
function startTimer() {
  timerRef.current = setInterval(...);
}
function stopTimer() {
  clearInterval(timerRef.current);
}
```

</details>

---

### Scenario-Based Question:

**You want to count how many times a component has rendered, but you don't want to trigger a re-render each time. How can you do this with refs?**

<details>
<summary>**Click to see a sample answer**</summary>

**Sample Answer:**  
Use a ref to store the render count and increment it inside the component body or an effect.

```jsx
const renderCount = useRef(0);
renderCount.current++;
console.log(`Rendered ${renderCount.current} times`);
```

</details>

---

### Scenario-Based Question:

**How would you programmatically focus an input element when a button is clicked?**

<details>
<summary>**Click to see a sample answer**</summary>

**Sample Answer:**  
Use a ref to get the input DOM node and call `.focus()` in the button's click handler.

```jsx
const inputRef = useRef();
return (
  <>
    <input ref={inputRef} />
    <button onClick={() => inputRef.current.focus()}>Focus Input</button>
  </>
);
```

</details>

</div>

---

<Callout type="info">
  Review these questions and try to explain the concepts in your own words for
  the best interview preparation!
</Callout>

---

## 4.4 ‚Äì Advanced & Practical Questions üöÄ

<div style={{ background: 'rgba(100, 200, 100, 0.10)', padding: '15px', borderRadius: '5px', marginBottom: '20px', border: '1px solid rgba(100, 200, 100, 0.15)', color: 'inherit' }}>

**Q11: Can you use refs to store previous prop or state values? How?**  
A: Yes! You can use a ref inside a `useEffect` to keep track of the previous value:

```jsx
const prevValue = useRef();
useEffect(() => {
  prevValue.current = value;
}, [value]);
```

**Q12: What is the difference between `useRef` and `createRef`?**  
A: `useRef` is used in functional components and returns the same ref object on every render. `createRef` is used in class components and returns a new ref every time the component renders.

**Q13: How can you use refs to debounce a function in React?**  
A: Store the timeout ID in a ref so it persists between renders and doesn't cause re-renders:

```jsx
const timeoutRef = useRef();
function handleChange(e) {
  clearTimeout(timeoutRef.current);
  timeoutRef.current = setTimeout(() => {
    // Do something after debounce
  }, 300);
}
```

**Q14: Can you pass refs to child components? How?**  
A: Yes, using `forwardRef`:

```jsx
const MyInput = React.forwardRef((props, ref) => (
  <input ref={ref} {...props} />
));
const inputRef = useRef();
<MyInput ref={inputRef} />;
```

**Q15: What is `useImperativeHandle` and how does it relate to refs?**  
A: `useImperativeHandle` customizes the instance value that is exposed when using `ref` with `forwardRef`. It lets you control what methods or properties the parent can access via the ref.

</div>

---

> **üöÄ Final Advice:** In interviews, show not just your knowledge of refs, but also your ability to use them for performance, DOM access, and avoiding unnecessary re-renders.

<img
  src="https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg"
  alt="React Interview Success"
  width="100"
  style={{ borderRadius: "8px", marginTop: "2rem" }}
/>
