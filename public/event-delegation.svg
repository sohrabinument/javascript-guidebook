<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 600 500" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="600" height="500" fill="#f8f9fa" rx="8" ry="8"/>
  
  <!-- Title -->
  <text x="300" y="40" font-family="Arial, sans-serif" font-size="22" text-anchor="middle" font-weight="bold" fill="#333">Event Delegation in React</text>
  
  <!-- Parent Element (UL) -->
  <rect x="100" y="80" width="400" height="320" rx="8" ry="8" fill="#e8f4f8" stroke="#0366d6" stroke-width="2"/>
  <text x="300" y="110" font-family="Arial, sans-serif" font-size="18" text-anchor="middle" fill="#333">ul</text>
  <text x="300" y="140" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">onClick={handleClick}</text>
  
  <!-- Children Elements (LI) -->
  <rect x="150" y="180" width="300" height="50" rx="6" ry="6" fill="#fff" stroke="#666" stroke-width="1"/>
  <text x="300" y="210" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#333">li - Apple</text>
  
  <rect x="150" y="240" width="300" height="50" rx="6" ry="6" fill="#fff7e6" stroke="#f0b400" stroke-width="2"/>
  <text x="300" y="270" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#333">li - Banana (Clicked)</text>
  
  <rect x="150" y="300" width="300" height="50" rx="6" ry="6" fill="#fff" stroke="#666" stroke-width="1"/>
  <text x="300" y="330" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#333">li - Cherry</text>
  
  <!-- Event Flow: Click and Bubble -->
  <circle cx="300" cy="265" r="10" fill="#ff6b6b">
    <animate attributeName="r" values="10;15;10" dur="2s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="1;0.6;1" dur="2s" repeatCount="indefinite"/>
  </circle>
  
  <!-- Bubble path -->
  <path d="M 300 250 Q 320 200 300 150" stroke="#f44336" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrow-event)">
    <animate attributeName="stroke-dashoffset" values="20;0" dur="2s" repeatCount="indefinite"/>
  </path>
  
  <!-- Handler arrow -->
  <path d="M 370 143 L 480 143 L 480 200 L 520 200" stroke="#4caf50" stroke-width="2" marker-end="url(#arrow-handler)"/>
  
  <!-- Handler box -->
  <rect x="520" y="170" width="150" height="110" rx="8" ry="8" fill="#f1f8e9" stroke="#4caf50" stroke-width="2" transform="translate(-80, 0)"/>
  <text x="490" y="200" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333" transform="translate(-80, 0)">handleClick(e) {</text>
  <text x="490" y="225" font-family="Arial, sans-serif" font-size="12" fill="#333" transform="translate(-80, 0)">  if (e.target.tagName === 'LI') {</text>
  <text x="490" y="245" font-family="Arial, sans-serif" font-size="12" fill="#333" transform="translate(-80, 0)">    console.log(e.target.textContent);</text>
  <text x="490" y="265" font-family="Arial, sans-serif" font-size="12" fill="#333" transform="translate(-80, 0)">  }</text>
  <text x="490" y="285" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333" transform="translate(-80, 0)">}</text>
  
  <!-- Arrow Markers -->
  <defs>
    <marker id="arrow-event" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f44336"/>
    </marker>
    <marker id="arrow-handler" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4caf50"/>
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="100" y="410" width="400" height="80" rx="4" ry="4" fill="#f5f5f5" stroke="#ddd" stroke-width="1"/>
  
  <circle cx="130" cy="430" r="8" fill="#ff6b6b"/>
  <text x="145" y="435" font-family="Arial, sans-serif" font-size="14" fill="#333">Click Event</text>
  
  <line x1="230" y1="430" x2="270" y2="430" stroke="#f44336" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="280" y="435" font-family="Arial, sans-serif" font-size="14" fill="#333">Event Bubbling</text>
  
  <line x1="410" y1="430" x2="450" y2="430" stroke="#4caf50" stroke-width="2"/>
  <text x="460" y="435" font-family="Arial, sans-serif" font-size="14" fill="#333">Event Handler</text>
  
  <text x="130" y="465" font-family="Arial, sans-serif" font-size="14" fill="#666">Benefit: Single event listener on parent handles events for all child elements!</text>
  <text x="130" y="485" font-family="Arial, sans-serif" font-size="14" fill="#666">Works even if children are added or removed dynamically.</text>
</svg>